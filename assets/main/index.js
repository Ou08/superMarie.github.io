window.__require=function t(e,n,o){function i(c,a){if(!n[c]){if(!e[c]){var s=c.split("/");if(s=s[s.length-1],!e[s]){var l="function"==typeof __require&&__require;if(!a&&l)return l(s,!0);if(r)return r(s,!0);throw new Error("Cannot find module '"+c+"'")}c=s}var u=n[c]={exports:{}};e[c][0].call(u.exports,function(t){return i(e[c][1][t]||t)},u,u.exports,t,e,n,o)}return n[c].exports}for(var r="function"==typeof __require&&__require,c=0;c<o.length;c++)i(o[c]);return i}({AddStrength:[function(t,e,n){"use strict";cc._RF.push(e,"8628aFxwYlAvanFDM3Phjhl","AddStrength");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,c=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,n,c):i(e,n))||c);return r>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../../common/module/DataManager"),a=t("../../common/module/PlatformApi"),s=t("../../config/Config"),l=t("../base/ViewSet"),u=cc._decorator,p=u.ccclass,f=(u.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onLoad=function(){this.updateView()},e.prototype.updateView=function(){this._getStrengthNum.string="x"+s.GameConfig.oneVideoGetStrength},e.prototype.onBtnClose=function(){s.cSound.playEffect(s.$.Sound.btn),s.cUI.hideLayer(this.node)},e.prototype.onBtnVideo=function(){var t=this;s.cSound.playEffect(s.$.Sound.btn),c.default.instance().getStrength()>=s.GameConfig.maxStrength?s.cUI.showTips("\u4f53\u529b\u5145\u6c9b\u65e0\u9700\u83b7\u53d6!"):a.default.instance().showVideoAd(function(){c.default.instance().addStrength(s.GameConfig.oneVideoGetStrength),s.cUI.showTips("\u83b7\u5f97\u4f53\u529b!"),s.cUI.hideLayer(t.node)})},r([p],e)}(l.AddStrengthView));n.default=f,cc._RF.pop()},{"../../common/module/DataManager":"DataManager","../../common/module/PlatformApi":"PlatformApi","../../config/Config":"Config","../base/ViewSet":"ViewSet"}],AndroidApi:[function(t,e,n){"use strict";cc._RF.push(e,"3ffe2LhbSRCrKjMvyw9cHqe","AndroidApi");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../base/SingleBase"),c=t("../../../config/Config"),a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.javaUrl="org/cocos2dx/javascript/jcjSdk/jsCallJavaMager",e.startTime=-1,e.endTime=-1,e.getRewardTime=12e3,e}return i(e,t),e.prototype.onLoad=function(){},e.prototype.loadVideoAd=function(){},e.prototype.showVideoAd=function(t,e,n){void 0===e&&(e=!0),this.callback=t,this.failCallBack=n,this.showAd(4)},e.prototype.loadBannerAd=function(){},e.prototype.showBannerAd=function(){this.showAd(2)},e.prototype.hideBannerAd=function(){this.showAd(3)},e.prototype.loadInterstitialAd=function(){},e.prototype.showInterstitialAd=function(){this.showAd(1)},e.prototype.showToast=function(t,e,n){void 0===e&&(e="none"),void 0===n&&(n=2),c.cUI.showTips(t,n)},e.prototype.showAd=function(t){switch(t){case 1:console.log("\u63d2\u5c4f\u5e7f\u544a\u7c7b\u578b");break;case 2:console.log("\u663e\u793abanner");break;case 3:console.log("\u9690\u85cfbanner");break;case 4:console.log("\u6fc0\u52b1\u89c6\u9891");break;case 6:console.log("\u539f\u751f\u5e7f\u544a")}this.startTime=(new Date).getTime(),cc.sys.isNative&&cc.sys.os==cc.sys.OS_ANDROID&&jsb.reflection.callStaticMethod(this.javaUrl,"callShowAd","(I)V",t)},e.prototype.runCallBack=function(){this.endTime=(new Date).getTime(),this.endTime-this.startTime>this.getRewardTime&&(this.callback&&this.callback(),this.callback=null)},e.prototype.runFailCallBack=function(){this.failCallBack&&this.failCallBack(),this.failCallBack=null},e.prototype.onShareAppMessage=function(){},e.prototype.onShareAppVideo=function(){},e.prototype.openAwemeUserProfile=function(){},e.prototype.onShow=function(){},e.prototype.showShareMenu=function(){},e.prototype.startRecordVideo=function(){},e.prototype.clearVideo=function(){},e.prototype.stopRecordVideo=function(){},e.prototype.isRecordVideo=function(){return!1},e.prototype.loadRecordVideo=function(){},e.prototype.reportAnalytics=function(){},e}(r.default);n.default=a,window.AndroidAd=a.instance(),cc._RF.pop()},{"../../../config/Config":"Config","../../base/SingleBase":"SingleBase"}],BhvButtonGroup:[function(t,e,n){"use strict";cc._RF.push(e,"41df676L55LvJ52uxkQpfxJ","BhvButtonGroup");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,c=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,n,c):i(e,n))||c);return r>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var c,a=cc._decorator,s=a.ccclass,l=a.property,u=a.menu;(function(t){t[t.CHILDREN_INDEX=0]="CHILDREN_INDEX",t[t.CHILDREN_NAME=1]="CHILDREN_NAME"})(c||(c={}));var p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.transition=cc.Button.Transition.NONE,e.hoverColor=cc.color(255,255,255),e.normalColor=cc.color(214,214,214),e.pressedColor=cc.color(211,211,211),e.disabledColor=cc.color(124,124,124),e.normalSprite=null,e.pressedSprite=null,e.hoverSprite=null,e.disabledSprite=null,e.duration=1,e.zoomScale=1.1,e.paramType=c.CHILDREN_INDEX,e.touchEvents=[],e}return i(e,t),e.prototype.onLoad=function(){var t=this;this.node.children.forEach(function(e,n){var o=e.getComponent(cc.Button);o||(o=e.addComponent(cc.Button)),o.target=e,o.transition=t.transition,o.zoomScale=t.zoomScale,o.disabledSprite=t.disabledSprite,o.hoverSprite=t.hoverSprite,o.normalSprite=t.normalSprite,o.pressedSprite=t.pressedSprite,o.hoverColor=t.hoverColor,o.normalColor=t.normalColor,o.pressedColor=t.pressedColor,o.disabledColor=t.disabledColor,t.touchEvents.forEach(function(i){var r=new cc.Component.EventHandler;r.target=i.target,r.handler=i.handler,r.component=i.component,r._componentId=i._componentId,t.paramType===c.CHILDREN_INDEX?r.customEventData=n.toString():r.customEventData=e.name,o.clickEvents.push(r)})})},r([l({type:cc.Enum(cc.Button.Transition)})],e.prototype,"transition",void 0),r([l({visible:function(){return this.transition===cc.Button.Transition.COLOR}})],e.prototype,"hoverColor",void 0),r([l({visible:function(){return this.transition===cc.Button.Transition.COLOR}})],e.prototype,"normalColor",void 0),r([l({visible:function(){return this.transition===cc.Button.Transition.COLOR}})],e.prototype,"pressedColor",void 0),r([l({visible:function(){return this.transition===cc.Button.Transition.COLOR}})],e.prototype,"disabledColor",void 0),r([l({type:cc.SpriteFrame,visible:function(){return this.transition===cc.Button.Transition.SPRITE}})],e.prototype,"normalSprite",void 0),r([l({type:cc.SpriteFrame,visible:function(){return this.transition===cc.Button.Transition.SPRITE}})],e.prototype,"pressedSprite",void 0),r([l({type:cc.SpriteFrame,visible:function(){return this.transition===cc.Button.Transition.SPRITE}})],e.prototype,"hoverSprite",void 0),r([l({type:cc.SpriteFrame,visible:function(){return this.transition===cc.Button.Transition.SPRITE}})],e.prototype,"disabledSprite",void 0),r([l({visible:function(){return this.transition===cc.Button.Transition.SCALE||this.transition===cc.Button.Transition.COLOR}})],e.prototype,"duration",void 0),r([l({visible:function(){return this.transition===cc.Button.Transition.SCALE}})],e.prototype,"zoomScale",void 0),r([l({type:cc.Enum(c)})],e.prototype,"paramType",void 0),r([l([cc.Component.EventHandler])],e.prototype,"touchEvents",void 0),r([s,u("\u5de5\u5177/Button Group(\u4e00\u7ec4\u6309\u94ae\u63a7\u5236)")],e)}(cc.Component);n.default=p,cc._RF.pop()},{}],BhvFrameIndex:[function(t,e,n){"use strict";cc._RF.push(e,"c238ewfJ2VJnZ8Gb8YQs5Ts","BhvFrameIndex");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,c=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,n,c):i(e,n))||c);return r>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var c=cc._decorator,a=c.ccclass,s=c.property,l=c.executeInEditMode,u=c.requireComponent,p=c.menu,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.spriteFrames=[null],e._index=0,e}return i(e,t),Object.defineProperty(e.prototype,"index",{get:function(){return this._index},set:function(t){t<0||(this._index=t%this.spriteFrames.length,this.node.getComponent(cc.Sprite).spriteFrame=this.spriteFrames[this._index])},enumerable:!1,configurable:!0}),e.prototype.setName=function(t){var e=this.spriteFrames.findIndex(function(e){return e.name==t});e<0&&cc.error("frameIndex \u8bbe\u7f6e\u4e86\u4e0d\u5b58\u5728\u7684name:",t),this.index=e||0},e.prototype.random=function(t,e){if(this.spriteFrames){var n=this.spriteFrames.length;(null==t||t<0)&&(t=0),(null==e||e>n)&&(e=n),this.index=Math.floor(Math.random()*(e-t)+t)}},e.prototype.next=function(){this.index++},e.prototype.previous=function(){this.index--},r([s({type:[cc.SpriteFrame],tooltip:"sprite\u5c06\u4f1a\u7528\u5230\u5e27\u56fe\u7247"})],e.prototype,"spriteFrames",void 0),r([s({tooltip:"\u5f53\u524d\u663e\u793a\u7684\u5e27\u56fe",type:cc.Integer})],e.prototype,"index",null),r([s],e.prototype,"_index",void 0),r([a,l,u(cc.Sprite),p("\u5de5\u5177/Frame Index(\u5e27\u56fe\u6539\u53d8)")],e)}(cc.Component);n.default=f,cc._RF.pop()},{}],BhvRollNumber:[function(t,e){"use strict";cc._RF.push(e,"72d13dwmG9LS4gkJhSuAp3F","BhvRollNumber"),cc._RF.pop()},{}],Bullet:[function(t,e,n){"use strict";cc._RF.push(e,"9489ainl1tLPrWDrL4psoKl","Bullet");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,c=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,n,c):i(e,n))||c);return r>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../common/module/Pool"),a=t("../view/scene/GameScene"),s=cc._decorator,l=s.ccclass,u=(s.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dir=0,e.move=15,e.maxMove=500,e}return i(e,t),e.prototype.init=function(t,e){this.node.setPosition(cc.v2(t.x,t.y)),this.initPos=t,this.dir=e},e.prototype.update=function(){a.gameScene._gameOver||0!=this.dir&&(1==this.dir?this.node.x+=this.move:this.node.x-=this.move,Math.abs(this.node.x-this.initPos.x)>this.maxMove&&(a.gameScene.bulletList.delete(Number(this.node.name)),c.default.instance().put(this.node)))},r([l],e)}(cc.Component));n.default=u,cc._RF.pop()},{"../common/module/Pool":"Pool","../view/scene/GameScene":"GameScene"}],BundleManager:[function(t,e,n){"use strict";cc._RF.push(e,"5f5eb2oR5hER6YRXXIjUWfZ","BundleManager");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bundleMap=new Map,e}return i(e,t),e.prototype.addBundle=function(t,e){this.bundleMap.set(t,e)},e.prototype.getBundle=function(t){return this.bundleMap.get(t)?this.bundleMap.get(t):(console.log("ab\u5305 "+t+" \u4e0d\u5b58\u5728"),null)},e.prototype.releaseAllByBundle=function(t){var e=this.bundleMap.get(t);e&&e.releaseAll()},e}(t("../base/SingleBase").default);n.default=r,cc._RF.pop()},{"../base/SingleBase":"SingleBase"}],ColliderManager:[function(t,e,n){"use strict";cc._RF.push(e,"9d0a1f1BzdIdapra+B+NmdV","ColliderManager");var o=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],o=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(n,"__esModule",{value:!0});var i=t("../../config/Config"),r=t("../../config/Enum"),c=t("../../game/enemy/EnemyBase"),a=t("../../game/player"),s=t("../../game/Wall"),l=t("../../view/scene/GameScene"),u=t("./Pool"),p=function(){function t(){}return t.instance=function(){return null==this._instance&&(this._instance=new t),this._instance},t.prototype.stopJump_zhuangdao=function(){var t,e;try{for(var n=o(l.gameScene.colliderList),i=n.next();!i.done;i=n.next()){var c=i.value[1];if(!cc.isValid(c))return;if(a.player.node.x+a.player.node.width/2>c.x-c.width/2&&a.player.node.x-a.player.node.width/2<c.x+c.width/2&&a.player.node.y+a.player.node.height/2>=c.y-c.height/2&&a.player.node.y-a.player.node.height/2<=c.y-c.height/2){a.player.updateState(r.playerState.drop);var u=c.$(s.default);u.type==r.WallType.wall2&&u.boom();break}}}catch(p){t={error:p}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}},t.prototype.stopJump_caidao=function(){var t,e,n=!1;try{for(var i=o(l.gameScene.colliderList),c=i.next();!c.done;c=i.next()){var s=c.value[1];if(!cc.isValid(s))return;if(a.player.node.x+a.player.node.width/2>s.x-s.width/2&&a.player.node.x-a.player.node.width/2<s.x+s.width/2&&a.player.node.y-a.player.node.height/2>=s.y+s.height/2&&a.player.node.y-a.player.node.height/2-(s.y+s.height/2)<=5){a.player.updateState(r.playerState.idle),n=!0;break}}}catch(u){t={error:u}}finally{try{c&&!c.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}n||a.player.updateState(r.playerState.drop)},t.prototype.leftCollider=function(){var t,e;if(l.gameScene.currCamerPos-a.player.node.x+a.player.node.width/2>cc.winSize.width/2)return!0;var n=!1;try{for(var r=o(l.gameScene.colliderList),c=r.next();!c.done;c=r.next()){var s=c.value[1];if(!cc.isValid(s))return;if(a.player.node.x-a.player.node.width/2-i.GameConfig.playerXSpeed<=s.x+s.width/2&&a.player.node.x+a.player.node.width/2>s.x-s.width/2&&a.player.node.y+a.player.node.height/2>s.y-s.height/2&&a.player.node.y-a.player.node.height/2<s.y+s.height/2){n=!0;break}}}catch(u){t={error:u}}finally{try{c&&!c.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}return n},t.prototype.rightCollider=function(){var t,e;if(a.player.node.x>=l.gameScene.mapCount*cc.winSize.width+cc.winSize.width/2-a.player.node.width/2)return!0;var n=!1;try{for(var r=o(l.gameScene.colliderList),c=r.next();!c.done;c=r.next()){var s=c.value[1];if(!cc.isValid(s))return;if(a.player.node.x+a.player.node.width/2+i.GameConfig.playerXSpeed>=s.x-s.width/2&&a.player.node.x-a.player.node.width/2<=s.x+s.width/2&&a.player.node.y+a.player.node.height/2>s.y-s.height/2&&a.player.node.y-a.player.node.height/2<s.y+s.height/2){n=!0;break}}}catch(u){t={error:u}}finally{try{c&&!c.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}return n},t.prototype.checkEnemy=function(){var t,e;try{for(var n=o(l.gameScene.enemyList),i=n.next();!i.done;i=n.next()){var s=i.value[1];if(!cc.isValid(s))return;var u=s.$(c.default);if(u.type==r.EnemyType.mogu){var p=a.player.node.getBoundingBox(),f=s.getBoundingBox();if(p.intersects(f)){var h=s.position.sub(a.player.node.position);console.log("x:",h.x,"y:",h.y),Math.abs(h.x)>Math.abs(h.y)?a.player.death():h.y<0?(u.detah(),a.player.updateState(r.playerState.caidao)):(console.log("\u5934\u9876\u78b0\u5230\u654c\u4eba \u6b7b\u4ea1"),a.player.death())}}else if(u.type==r.EnemyType.shirenhua&&(p=a.player.node.getBoundingBox(),f=s.getBoundingBox(),p.intersects(f))){a.player.death();break}}}catch(d){t={error:d}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}},t.prototype.checkCoin=function(){var t,e;try{for(var n=o(l.gameScene.coinList),r=n.next();!r.done;r=n.next()){var c=r.value[1];if(!cc.isValid(c))return;var s=a.player.node.getBoundingBox(),p=c.getBoundingBox();if(s.intersects(p)){u.default.instance().put(c),i.cSound.playEffect(i.$.Sound.coin),l.gameScene.coinList.delete(Number(c.name));break}}}catch(f){t={error:f}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}},t.prototype.checkEnd=function(){var t=l.gameScene._endNode;if(cc.isValid(t)){var e=a.player.node.getBoundingBox(),n=t.getBoundingBox();e.intersects(n)&&a.player.node.position.sub(t.position).mag()<10&&(l.gameScene._endNode=null,l.gameScene.gameOver(r.ResultType.victory),i.cSound.playEffect(i.$.Sound.win))}},t._instance=null,t}();n.default=p,cc._RF.pop()},{"../../config/Config":"Config","../../config/Enum":"Enum","../../game/Wall":"Wall","../../game/enemy/EnemyBase":"EnemyBase","../../game/player":"player","../../view/scene/GameScene":"GameScene","./Pool":"Pool"}],Config:[function(t,e,n){"use strict";cc._RF.push(e,"a32bcSEGOlCjr0F3XpzdyJJ","Config"),Object.defineProperty(n,"__esModule",{value:!0}),n.$=n.GameConfig=n.Version=n.Platform=n.NodePool=n.Event=n.cUI=n.cStorage=n.cSound=void 0;var o=t("./Res"),i=t("../common/module/LocalStorage"),r=t("../common/module/UI"),c=t("../common/module/EventManager"),a=t("../common/module/Pool"),s=t("../common/module/Sound"),l=t("../common/module/PlatformApi"),u=t("./Enum");n.cSound=s.default.instance(),n.cStorage=i.default.instance(),n.cUI=r.default.instance(),n.Event=c.default.instance(),n.NodePool=a.default.instance(),n.Platform=l.default.instance(),n.Version="1.0.0",n.GameConfig={maxStrength:5,useStrength:1,addStrengthTime:300,oneVideoGetStrength:5,getInfinteStrengthVideoCount:3,threeVideoGetStrength:999,initUserData:{strength:5,currLevel:1},playerInitPos:cc.v2(-550,-240),playerXSpeed:10,playerYSpeed:10,playerUpTime:25,enemyData:[{id:u.EnemyType.mogu,name:"\u8611\u83c7",moveType:u.EnemyMoveType.horizontalMove,fangwei:110},{id:u.EnemyType.shirenhua,name:"\u98df\u4eba\u82b1",moveType:u.EnemyMoveType.verticalMove,fangwei:100}],levelData:{mapCount:4,level1:{enemyList:[{type:u.EnemyType.mogu,pos:cc.v2(0,-285)},{type:u.EnemyType.mogu,pos:cc.v2(150,-285)},{type:u.EnemyType.mogu,pos:cc.v2(300,-285)},{type:u.EnemyType.mogu,pos:cc.v2(-60,-75)},{type:u.EnemyType.shirenhua,pos:cc.v2(490,-115)}],wallList:[{type:u.WallType.wall1,pos:cc.v2(0,-335),size:cc.v2(1280,50)},{type:u.WallType.wall1,pos:cc.v2(-360,-125),size:cc.v2(150,50)},{type:u.WallType.wall2,pos:cc.v2(-70,-125),size:cc.v2(150,50)},{type:u.WallType.wall2,pos:cc.v2(275,-125),size:cc.v2(150,50)}],coinList:[{pos:cc.v2(-380,50)},{pos:cc.v2(-330,50)},{pos:cc.v2(-100,100)},{pos:cc.v2(-50,100)}]},level2:{enemyList:[{type:u.EnemyType.mogu,pos:cc.v2(0,-285)},{type:u.EnemyType.mogu,pos:cc.v2(150,-285)},{type:u.EnemyType.mogu,pos:cc.v2(-60,-75)},{type:u.EnemyType.shirenhua,pos:cc.v2(490,-115)}],wallList:[{type:u.WallType.wall1,pos:cc.v2(0,-335),size:cc.v2(1180,50)},{type:u.WallType.wall1,pos:cc.v2(-360,-125),size:cc.v2(150,50)},{type:u.WallType.wall2,pos:cc.v2(-70,-125),size:cc.v2(150,50)},{type:u.WallType.wall2,pos:cc.v2(275,-125),size:cc.v2(150,50)}],coinList:[{pos:cc.v2(-380,100)},{pos:cc.v2(-330,100)},{pos:cc.v2(-100,70)},{pos:cc.v2(-50,70)}]},level3:{enemyList:[{type:u.EnemyType.mogu,pos:cc.v2(0,-285)},{type:u.EnemyType.mogu,pos:cc.v2(150,-285)},{type:u.EnemyType.mogu,pos:cc.v2(-60,-75)},{type:u.EnemyType.shirenhua,pos:cc.v2(490,-115)}],wallList:[{type:u.WallType.wall1,pos:cc.v2(0,-335),size:cc.v2(1080,50)},{type:u.WallType.wall1,pos:cc.v2(-360,-125),size:cc.v2(150,50)},{type:u.WallType.wall2,pos:cc.v2(-70,-125),size:cc.v2(150,50)},{type:u.WallType.wall2,pos:cc.v2(275,-125),size:cc.v2(150,50)}],coinList:[{pos:cc.v2(-380,100)},{pos:cc.v2(-330,100)},{pos:cc.v2(-100,70)},{pos:cc.v2(-50,70)}]},level4:{enemyList:[{type:u.EnemyType.mogu,pos:cc.v2(0,-285)},{type:u.EnemyType.mogu,pos:cc.v2(150,-285)},{type:u.EnemyType.mogu,pos:cc.v2(-60,-75)},{type:u.EnemyType.shirenhua,pos:cc.v2(490,-115)}],wallList:[{type:u.WallType.wall1,pos:cc.v2(0,-335),size:cc.v2(880,50)},{type:u.WallType.wall1,pos:cc.v2(-360,-125),size:cc.v2(150,50)},{type:u.WallType.wall2,pos:cc.v2(-70,-125),size:cc.v2(150,50)},{type:u.WallType.wall2,pos:cc.v2(275,-125),size:cc.v2(150,50)}],coinList:[{pos:cc.v2(-380,100)},{pos:cc.v2(-330,100)},{pos:cc.v2(-100,70)},{pos:cc.v2(-50,70)}]},level5:{enemyList:[{type:u.EnemyType.mogu,pos:cc.v2(0,-285)},{type:u.EnemyType.mogu,pos:cc.v2(150,-285)},{type:u.EnemyType.mogu,pos:cc.v2(-60,-75)},{type:u.EnemyType.shirenhua,pos:cc.v2(490,-115)}],wallList:[{type:u.WallType.wall1,pos:cc.v2(0,-335),size:cc.v2(1280,50)},{type:u.WallType.wall1,pos:cc.v2(-360,-125),size:cc.v2(150,50)},{type:u.WallType.wall2,pos:cc.v2(-70,-125),size:cc.v2(150,50)},{type:u.WallType.wall2,pos:cc.v2(275,-125),size:cc.v2(150,50)}],coinList:[{pos:cc.v2(-380,100)},{pos:cc.v2(-330,100)},{pos:cc.v2(-100,70)},{pos:cc.v2(-50,70)}]}}},n.$={Sound:o.Sound,Prefab:o.Prefab,Texture:o.Texture,Atlas:o.Atlas,Version:n.Version,Group:{Default:"default",UI:"UI"},StorageKey:{musicSwitch:"musicSwitch",effectSwitch:"effectSwitch",userData:"userData",lastGetStrengthTime:"lastGetStrengthTime",infinteStrengthNum:"infinteStrengthNum"},BundleKey:{prefab:"prefab",sound:"sound",texture:"texture"},EventKey:{loadingClose:"loadingClose",updateStrength:"updateStrength",startGame:"startGame",backMainScene:"backMainScene",restartGame:"restartGame",nextLevel:"nextLevel",updateCameraPos:"updateCameraPos"}},cc._RF.pop()},{"../common/module/EventManager":"EventManager","../common/module/LocalStorage":"LocalStorage","../common/module/PlatformApi":"PlatformApi","../common/module/Pool":"Pool","../common/module/Sound":"Sound","../common/module/UI":"UI","./Enum":"Enum","./Res":"Res"}],Confirm:[function(t,e,n){"use strict";cc._RF.push(e,"02202bW6hpFsJGbfAv5de+X","Confirm");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,c=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,n,c):i(e,n))||c);return r>3&&c&&Object.defineProperty(e,n,c),c},c=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function c(t){try{s(o.next(t))}catch(e){r(e)}}function a(t){try{s(o.throw(t))}catch(e){r(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(c,a)}s((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,i,r,c={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return s([t,e])}}function s(r){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return c.label++,{value:r[1],done:!1};case 5:c.label++,o=r[1],r=[0];continue;case 7:r=c.ops.pop(),c.trys.pop();continue;default:if(!(i=(i=c.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){c=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){c.label=r[1];break}if(6===r[0]&&c.label<i[1]){c.label=i[1],i=r;break}if(i&&c.label<i[2]){c.label=i[2],c.ops.push(r);break}i[2]&&c.ops.pop(),c.trys.pop();continue}r=e.call(t,c)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../base/ViewSet"),l=t("../../config/Config"),u=cc._decorator,p=u.ccclass,f=(u.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.initData=function(t,e,n,o){return c(this,void 0,void 0,function(){return a(this,function(){return this.callFunc=t,this._btn_cancel.active=o,this._title.setLabel(e||""),this._content.setLabel(n||""),[2]})})},e.prototype.onBtnCancel=function(){this.callFunc&&this.callFunc(!1),l.Platform.startRecordVideo(300),l.cUI.hideLayer(this.node)},e.prototype.onBtnConfirm=function(){this.callFunc&&this.callFunc(!0),l.cUI.hideLayer(this.node)},r([p],e)}(s.ConfirmView));n.default=f,cc._RF.pop()},{"../../config/Config":"Config","../base/ViewSet":"ViewSet"}],DataManager:[function(t,e,n){"use strict";cc._RF.push(e,"acf744ns2xDkrcIOadSCPRd","DataManager");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../config/Config"),c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.userData=r.GameConfig.initUserData,e}return i(e,t),e.prototype.init=function(){this.userData=r.cStorage.getUserData()},e.prototype.useStrength=function(t){this.userData.strength-=t,this.saveUserData(),r.Event.emitEvent(r.$.EventKey.updateStrength),0==r.cStorage.getItem(r.$.StorageKey.lastGetStrengthTime).toNumber()&&this.setLastGetStrengthTime(Date.now())},e.prototype.addStrength=function(t){t==r.GameConfig.threeVideoGetStrength?this.userData.strength=t:(this.userData.strength+=t,this.userData.strength>r.GameConfig.maxStrength&&(this.userData.strength=r.GameConfig.maxStrength)),this.saveUserData(),r.Event.emitEvent(r.$.EventKey.updateStrength)},e.prototype.getStrength=function(){return this.userData.strength},e.prototype.saveUserData=function(){r.cStorage.setItem(r.$.StorageKey.userData,JSON.stringify(this.userData))},e.prototype.setLastGetStrengthTime=function(t){r.cStorage.setItem(r.$.StorageKey.lastGetStrengthTime,t)},e.prototype.getLastGetStrengthTime=function(){var t=r.cStorage.getItem(r.$.StorageKey.lastGetStrengthTime).toNumber();return 0==t&&(t=Date.now(),this.setLastGetStrengthTime(t)),t},e.prototype.removeLastGetStrengthTime=function(){r.cStorage.clear(r.$.StorageKey.lastGetStrengthTime)},e.prototype.getUserData=function(){return this.userData},e}(t("../base/SingleBase").default);n.default=c,cc._RF.pop()},{"../../config/Config":"Config","../base/SingleBase":"SingleBase"}],EditorAsset:[function(t,e,n){"use strict";cc._RF.push(e,"bade84uBZlFTb+865Vt9m0O","EditorAsset"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(){}return t.load=function(){return cc.warn("[EditorAsset]","\u8be5\u51fd\u6570\u53ea\u5728\u7f16\u8f91\u5668\u73af\u5883\u5185\u6709\u6548\uff01")},t}();n.default=o,cc._RF.pop()},{}],EnemyBase:[function(t,e,n){"use strict";cc._RF.push(e,"0074daP7ZpFvpyCTcIeybxI","EnemyBase");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,c=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,n,c):i(e,n))||c);return r>3&&c&&Object.defineProperty(e,n,c),c},c=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],o=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../common/module/Pool"),s=t("../../config/Config"),l=t("../../config/Enum"),u=t("../../view/scene/GameScene"),p=cc._decorator,f=p.ccclass,h=(p.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nowDir=-1,e.maxMove=0,e.num=0,e.isDeath=!1,e.id=0,e.yMove=!1,e}return i(e,t),e.prototype.start=function(){},e.prototype.init=function(t,e,n){this.id=t,this.type=e,this.movedir=s.GameConfig.enemyData[this.type-1].moveType,this.initPos=n,this.maxMove=s.GameConfig.enemyData[this.type-1].fangwei,this.movedir==l.EnemyMoveType.horizontalMove?this.nowDir=l.EnemyMoveDir.left:this.movedir==l.EnemyMoveType.verticalMove&&(this.nowDir=l.EnemyMoveDir.top),this.move()},e.prototype.move=function(){},e.prototype.detah=function(){this.isDeath=!0,u.gameScene.enemyList.delete(this.id);var t=this.node.position;s.cSound.playEffect(s.$.Sound.enemy_death,!0),a.default.instance().put(this.node),a.default.instance().get(s.$.Prefab.boom).then(function(e){e.parent=u.gameScene._level,e.setPosition(t);var n=e.$(sp.Skeleton);n.setAnimation(0,"baoza",!1),n.setCompleteListener(function(){a.default.instance().put(e)})})},e.prototype.stopJump_caidao=function(){var t,e,n=!0;try{for(var o=c(u.gameScene.colliderList),i=o.next();!i.done;i=o.next()){var r=i.value[1];if(!cc.isValid(r))return;if(this.node.x+this.node.width/2>r.x-r.width/2&&this.node.x-this.node.width/2<r.x+r.width/2&&this.node.y-this.node.height/2==r.y+r.height/2){n=!1;break}}}catch(a){t={error:a}}finally{try{i&&!i.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}this.yMove=n},e.prototype.verticalMove=function(){this.type==l.EnemyType.mogu&&this.stopJump_caidao()},e.prototype.update=function(){u.gameScene._gameOver||this.isDeath||0!=this.maxMove&&(this.verticalMove(),this.yMove?this.node.y-=5:this.movedir==l.EnemyMoveType.horizontalMove?(this.nowDir==l.EnemyMoveDir.left?(this.node.x--,this.node.scaleX=1):(this.node.x++,this.node.scaleX=-1),this.num++,this.num>=this.maxMove&&(this.num=0,this.nowDir==l.EnemyMoveDir.left?this.nowDir=l.EnemyMoveDir.right:this.nowDir=l.EnemyMoveDir.left)):this.movedir==l.EnemyMoveType.verticalMove&&(this.nowDir==l.EnemyMoveDir.top?this.node.y++:this.node.y--,this.num++,this.num>=this.maxMove&&(this.num=0,this.nowDir==l.EnemyMoveDir.top?this.nowDir=l.EnemyMoveDir.bottom:this.nowDir=l.EnemyMoveDir.top)))},r([f],e)}(cc.Component));n.default=h,cc._RF.pop()},{"../../common/module/Pool":"Pool","../../config/Config":"Config","../../config/Enum":"Enum","../../view/scene/GameScene":"GameScene"}],Enum:[function(t,e,n){"use strict";cc._RF.push(e,"7a97bTfuWNEKrwhMCry3Gyo","Enum"),Object.defineProperty(n,"__esModule",{value:!0}),n.playerState=n.WallType=n.EnemyType=n.EnemyMoveType=n.EnemyMoveDir=n.ResultType=void 0,function(t){t[t.victory=1]="victory",t[t.defeat=2]="defeat"}(n.ResultType||(n.ResultType={})),function(t){t[t.left=1]="left",t[t.right=2]="right",t[t.top=3]="top",t[t.bottom=4]="bottom"}(n.EnemyMoveDir||(n.EnemyMoveDir={})),function(t){t[t.horizontalMove=1]="horizontalMove",t[t.verticalMove=2]="verticalMove"}(n.EnemyMoveType||(n.EnemyMoveType={})),function(t){t[t.mogu=1]="mogu",t[t.shirenhua=2]="shirenhua"}(n.EnemyType||(n.EnemyType={})),function(t){t[t.wall1=1]="wall1",t[t.wall2=2]="wall2"}(n.WallType||(n.WallType={})),function(t){t[t.idle=0]="idle",t[t.jump=1]="jump",t[t.drop=2]="drop",t[t.caidao=3]="caidao"}(n.playerState||(n.playerState={})),cc._RF.pop()},{}],EventManager:[function(t,e,n){"use strict";cc._RF.push(e,"768011CB9tOrYa1oVzk20hq","EventManager");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=function(t){function e(){var e=t.call(this)||this;return e.handle={},e}return i(e,t),e.prototype.registerEvent=function(t,e,n){this.handle[t]?this.handle[t].push({handler:e,target:n}):this.handle[t]=[{handler:e,target:n}]},e.prototype.unregisterEvent=function(t,e,n){var o=this.handle[t];if(o)if(n)for(var i=0;i<o.length;i++)o[i].handler===e&&o[i].target==n&&this.handle[t].splice(i,1);else for(i=0;i<o.length;i++)o[i].handler===e&&this.handle[t].splice(i,1);else console.error(t+"\u76d1\u542c\u4e0d\u5b58\u5728")},e.prototype.emitEvent=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var o=this.handle[t];if(o)for(var i=0;i<o.length;i++)o[i].handler.apply(o[i].target,e);else console.error(t+"\u76d1\u542c\u4e0d\u5b58\u5728")},e}(t("../base/SingleBase").default);n.default=r,cc._RF.pop()},{"../base/SingleBase":"SingleBase"}],Flash:[function(t,e,n){"use strict";cc._RF.push(e,"48139WSEBVHtayjTZwjU5uM","Flash");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,c=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,n,c):i(e,n))||c);return r>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var c=cc._decorator,a=c.ccclass,s=c.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.duration=.5,e._median=0,e._time=0,e._material=null,e}return i(e,t),e.prototype.onLoad=function(){this._median=this.duration/2,this.node.getComponent(cc.Sprite)?this._material=this.node.getComponent(cc.Sprite).getMaterial(0):this._material=this.node.getComponent(sp.Skeleton).getMaterial(0),this._material.setProperty("u_rate",1)},e.prototype.update=function(t){if(this._time>0){this._time-=t,this._time=this._time<0?0:this._time;var e=2*Math.abs(this._time-this._median)/this.duration;this._material.setProperty("u_rate",e)}},e.prototype.init=function(){this._time=this.duration},r([s()],e.prototype,"duration",void 0),r([a],e)}(cc.Component);n.default=l,cc._RF.pop()},{}],GameResult:[function(t,e,n){"use strict";cc._RF.push(e,"d925ehnEltERLyFA1LkV1TW","GameResult");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,c=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,n,c):i(e,n))||c);return r>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../../common/module/PlatformApi"),a=t("../../config/Config"),s=t("../../config/Enum"),l=t("../base/ViewSet"),u=cc._decorator,p=u.ccclass,f=(u.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.initView=function(t){this._victory.active=t==s.ResultType.victory,this._btn_nextLevel.active=t==s.ResultType.victory,this._defeat.active=t==s.ResultType.defeat,this._btn_restart.active=t==s.ResultType.defeat},e.prototype.onBtnBack=function(){a.cSound.playEffect(a.$.Sound.btn),this.onClose()},e.prototype.onBtnRestart=function(){a.cSound.playEffect(a.$.Sound.btn),a.cUI.hideLayer(this.node),a.Event.emitEvent(a.$.EventKey.restartGame)},e.prototype.onBtnShare=function(){var t=this;a.cSound.playEffect(a.$.Sound.btn),c.default.instance().onShareAppVideo(function(){t.onClose()})},e.prototype.onBtnNextLevel=function(){a.cSound.playEffect(a.$.Sound.btn),a.cUI.hideLayer(this.node),console.log("\u4e0b\u4e00\u5173\u8fd8\u6ca1\u5b9e\u73b0"),a.Event.emitEvent(a.$.EventKey.restartGame)},e.prototype.onClose=function(){a.cUI.hideLayer(this.node),a.Event.emitEvent(a.$.EventKey.backMainScene)},r([p],e)}(l.GameResultView));n.default=f,cc._RF.pop()},{"../../common/module/PlatformApi":"PlatformApi","../../config/Config":"Config","../../config/Enum":"Enum","../base/ViewSet":"ViewSet"}],GameScene:[function(t,e,n){"use strict";cc._RF.push(e,"1b732AYyzhAS70GemyARjP6","GameScene");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,c=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,n,c):i(e,n))||c);return r>3&&c&&Object.defineProperty(e,n,c),c},c=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],o=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(n,"__esModule",{value:!0}),n.gameScene=void 0;var a=t("../../common/module/Pool"),s=t("../../common/module/ResManager"),l=t("../../config/Config"),u=t("../../config/Enum"),p=t("../../game/Bullet"),f=t("../../game/enemy/EnemyBase"),h=t("../../game/player"),d=t("../../game/Wall"),y=t("../base/ViewSet"),g=t("../layer/GameResult"),m=cc._decorator,_=m.ccclass,v=(m.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.level=1,e._player=null,e._gameOver=!1,e._endNode=null,e.currCamerPos=0,e.currIndex=0,e.createCoinCount=0,e.createEnemyCount=0,e.createWallCount=0,e.createBulletCount=0,e.mapCount=0,e}return i(e,t),e.prototype.onLoad=function(){n.gameScene=this,this.addEvent()},e.prototype.init=function(t){var e=this;this.level=t,this._gameOver=!1,this.colliderList=new Map,this.enemyList=new Map,this.coinList=new Map,this.bulletList=new Map,this.currIndex=0,this.currCamerPos=0,this._gameCamera.node.x=0,this.createCoinCount=0,this.createEnemyCount=0,this.createWallCount=0,this.createBulletCount=0,null!=this._player&&(this._player.destroy(),this._player=null),this._level.removeAllChildren(),l.cSound.playMusic(l.$.Sound.game_bgm,.3),this.mapCount=l.GameConfig.levelData.mapCount,l.cUI.showLayer(l.$.Prefab.level_1,!1,this._level).then(function(t){t.getChildByName("bg").width=5*cc.winSize.width,s.default.instance().getNode(l.$.Prefab.player).then(function(t){t.parent=e._level,e._player=t,e._player.setPosition(l.GameConfig.playerInitPos)});var n=l.GameConfig.levelData.level1;e.createWall(n,t),e.createEnemy(n,t),e.createCoin(n,t),e.scheduleOnce(function(){e.currIndex++;var n=l.GameConfig.levelData.level2;e.createWall(n,t),e.createEnemy(n,t),e.createCoin(n,t)},1),e.scheduleOnce(function(){e.currIndex++;var n=l.GameConfig.levelData.level3;e.createWall(n,t),e.createCoin(n,t),e.createEnemy(n,t)},3),e.scheduleOnce(function(){e.currIndex++;var n=l.GameConfig.levelData.level4;e.createWall(n,t),e.createCoin(n,t),e.createEnemy(n,t)},5),e.scheduleOnce(function(){e.currIndex++;var n=l.GameConfig.levelData.level5;e.createWall(n,t),e.createCoin(n,t),e.createEnemy(n,t)},7),e.createEnd(cc.v2(cc.winSize.width*e.mapCount,-262),t)})},e.prototype.createEnemy=function(t,e){for(var n=this,o=e.getChildByName("enemyParent"),i=function(e){setTimeout(function(){var i;t.enemyList[e].type==u.EnemyType.mogu?i=l.$.Prefab.enemyUrl+"1":t.enemyList[e].type==u.EnemyType.shirenhua&&(i=l.$.Prefab.enemyUrl+"2"),s.default.instance().getNode(i).then(function(i){i.$(f.default).init(n.createWallCount,t.enemyList[e].type,cc.v2(t.enemyList[e].pos.x+n.currIndex*cc.winSize.width,t.enemyList[e].pos.y)),i.parent=o,i.setPosition(cc.v2(t.enemyList[e].pos.x+n.currIndex*cc.winSize.width,t.enemyList[e].pos.y)),n.enemyList.set(n.createWallCount,i),n.createWallCount++})},200*e)},r=0;r<t.enemyList.length;r++)i(r)},e.prototype.createWall=function(t,e){for(var n=this,o=e.getChildByName("wallParent"),i=function(e){var i=void 0;t.wallList[e].type==u.WallType.wall1?i=l.$.Prefab.wall1:t.wallList[e].type==u.WallType.wall2&&(i=l.$.Prefab.wall2),s.default.instance().getNode(i).then(function(i){i.$(d.default).init(t.wallList[e].type,n.createWallCount),i.parent=o,i.setPosition(cc.v2(t.wallList[e].pos.x+n.currIndex*cc.winSize.width,t.wallList[e].pos.y)),i.width=t.wallList[e].size.x,i.height=t.wallList[e].size.y,n.colliderList.set(n.createWallCount,i),n.createWallCount++})},r=0;r<t.wallList.length;r++)i(r)},e.prototype.createCoin=function(t,e){for(var n=this,o=e.getChildByName("wallParent"),i=function(e){var i=l.$.Prefab.coin;s.default.instance().getNode(i).then(function(i){i.name=n.createCoinCount.toString(),i.parent=o,i.setPosition(cc.v2(t.coinList[e].pos.x+n.currIndex*cc.winSize.width,t.coinList[e].pos.y)),n.coinList.set(n.createCoinCount,i),n.createCoinCount++})},r=0;r<t.coinList.length;r++)i(r)},e.prototype.createEnd=function(t,e){var n=this,o=e.getChildByName("wallParent"),i=l.$.Prefab.end;s.default.instance().getNode(i).then(function(e){e.name=n.colliderList.size.toString(),e.parent=o,n._endNode=e,e.setPosition(cc.v2(t.x+n.currIndex*cc.winSize.width,t.y))})},e.prototype.shootBullet=function(){var t=this,e=l.$.Prefab.bullet;a.default.instance().get(e).then(function(e){cc.isValid(h.player.node)&&(e.parent=t._playerParent,e.name=t.createBulletCount.toString(),t.bulletList.set(t.createBulletCount,e),e.$(p.default).init(cc.v2(h.player.node.x,h.player.node.y),h.player.node.scaleX>=1?1:-1),t.createBulletCount++)})},e.prototype.gameOver=function(t){this._gameOver||(this._gameOver=!0,l.cSound.stopMusic(),l.cUI.showLayer(l.$.Prefab.gameResult).then(function(e){e.$(g.default).initView(t)}))},e.prototype.addEvent=function(){l.Event.registerEvent(l.$.EventKey.backMainScene,this.backMaiScene,this),l.Event.registerEvent(l.$.EventKey.nextLevel,this.nextLevel,this),l.Event.registerEvent(l.$.EventKey.restartGame,this.restartGame,this),l.Event.registerEvent(l.$.EventKey.updateCameraPos,this.updateCamera,this),this._btn_left.on(cc.Node.EventType.TOUCH_START,this.onBtnLeftStart,this),this._btn_left.on(cc.Node.EventType.TOUCH_END,this.onBtnLeftEnd,this),this._btn_right.on(cc.Node.EventType.TOUCH_START,this.onBtnRightStart,this),this._btn_right.on(cc.Node.EventType.TOUCH_END,this.onBtnRightEnd,this)},e.prototype.removeEvent=function(){l.Event.unregisterEvent(l.$.EventKey.backMainScene,this.backMaiScene,this),l.Event.unregisterEvent(l.$.EventKey.nextLevel,this.nextLevel,this),l.Event.unregisterEvent(l.$.EventKey.restartGame,this.restartGame,this),l.Event.unregisterEvent(l.$.EventKey.updateCameraPos,this.updateCamera,this)},e.prototype.onBtnBack=function(){l.cSound.playEffect(l.$.Sound.btn),l.cUI.showLayer(l.$.Prefab.gameStop)},e.prototype.onBtnLeftStart=function(){h.player.isLeftMove=!0},e.prototype.onBtnLeftEnd=function(){h.player.isLeftMove=!1},e.prototype.onBtnRightStart=function(){h.player.isRightMove=!0},e.prototype.onBtnRightEnd=function(){h.player.isRightMove=!1},e.prototype.onBtnJump=function(){h.player.updateState(u.playerState.jump)},e.prototype.onBtnAttack=function(){this.shootBullet()},e.prototype.backMaiScene=function(){l.cUI.showScene(l.$.Prefab.main_scene)},e.prototype.nextLevel=function(){console.log("\u4e0b\u4e00\u5173")},e.prototype.restartGame=function(){console.log("\u91cd\u65b0\u5f00\u59cb"),this.init(this.level)},e.prototype.onDestroy=function(){console.log("\u5173\u95edgamescene"),this.removeEvent()},e.prototype.updateCamera=function(){h.player&&cc.isValid(h.player.node)&&h.player.node.position.x>this.currCamerPos&&this.currCamerPos<this.mapCount*cc.winSize.width&&(this.currCamerPos=h.player.node.position.x,this._gameCamera.node.x=this.currCamerPos)},e.prototype.update=function(){var t,e,n,o;try{for(var i=c(this.bulletList),r=i.next();!r.done;r=i.next()){var s=r.value[1];if(!cc.isValid(s))return;try{for(var l=(n=void 0,c(this.enemyList)),u=l.next();!u.done;u=l.next()){var p=u.value[1];if(!cc.isValid(p))return;var h=s.getBoundingBox(),d=p.getBoundingBox();if(h.intersects(d)){a.default.instance().put(s);var y=p.$(f.default);this.bulletList.delete(Number(s.name)),this.coinList.delete(y.id),y.detah();break}}}catch(g){n={error:g}}finally{try{u&&!u.done&&(o=l.return)&&o.call(l)}finally{if(n)throw n.error}}}}catch(m){t={error:m}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}},r([_],e)}(y.GameSceneView));n.default=v,cc._RF.pop()},{"../../common/module/Pool":"Pool","../../common/module/ResManager":"ResManager","../../config/Config":"Config","../../config/Enum":"Enum","../../game/Bullet":"Bullet","../../game/Wall":"Wall","../../game/enemy/EnemyBase":"EnemyBase","../../game/player":"player","../base/ViewSet":"ViewSet","../layer/GameResult":"GameResult"}],GameStop:[function(t,e,n){"use strict";cc._RF.push(e,"831cckekchLUYRxh+KuvMMQ","GameStop");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,c=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,n,c):i(e,n))||c);return r>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../../config/Config"),a=t("../base/ViewSet"),s=cc._decorator,l=s.ccclass,u=(s.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onBtnBack=function(){c.cSound.playEffect(c.$.Sound.btn),c.cUI.hideLayer(this.node),c.Event.emitEvent(c.$.EventKey.backMainScene)},e.prototype.onBtnContinue=function(){c.cSound.playEffect(c.$.Sound.btn),c.cUI.hideLayer(this.node)},r([l],e)}(a.GameStopView));n.default=u,cc._RF.pop()},{"../../config/Config":"Config","../base/ViewSet":"ViewSet"}],InfiniteStrength:[function(t,e,n){"use strict";cc._RF.push(e,"28b5dzXIhJENaovoOxgiQov","InfiniteStrength");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,c=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,n,c):i(e,n))||c);return r>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../../common/module/DataManager"),a=t("../../common/module/PlatformApi"),s=t("../../config/Config"),l=t("../base/ViewSet"),u=cc._decorator,p=u.ccclass,f=(u.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.currVideoNum=0,e}return i(e,t),e.prototype.onLoad=function(){this.updateView()},e.prototype.updateView=function(){this.currVideoNum=s.cStorage.getItem(s.$.StorageKey.infinteStrengthNum).toNumber(),this._getStrengthNum.string="x"+s.GameConfig.threeVideoGetStrength,this._videBtnLabel.string="("+this.currVideoNum+"/"+s.GameConfig.getInfinteStrengthVideoCount+")"},e.prototype.onBtnClose=function(){s.cSound.playEffect(s.$.Sound.btn),s.cUI.hideLayer(this.node)},e.prototype.onBtnVideo=function(){var t=this;s.cSound.playEffect(s.$.Sound.btn),this.currVideoNum>=s.GameConfig.getInfinteStrengthVideoCount?s.cUI.showTips("\u5df2\u83b7\u5f97!"):a.default.instance().showVideoAd(function(){t.currVideoNum++,s.cStorage.setItem(s.$.StorageKey.infinteStrengthNum,t.currVideoNum),t.currVideoNum>=s.GameConfig.getInfinteStrengthVideoCount?(c.default.instance().addStrength(s.GameConfig.threeVideoGetStrength),s.cUI.showTips("\u83b7\u5f97\u4f53\u529b!"),s.cUI.hideLayer(t.node)):(t.updateView(),s.cUI.showTips("\u8fd8\u5dee"+(s.GameConfig.getInfinteStrengthVideoCount-t.currVideoNum)+"\u6b21\u53ef\u83b7\u5f97\u4f53\u529b\uff01"))})},r([p],e)}(l.InfiniteStrengthView));n.default=f,cc._RF.pop()},{"../../common/module/DataManager":"DataManager","../../common/module/PlatformApi":"PlatformApi","../../config/Config":"Config","../base/ViewSet":"ViewSet"}],IosApi:[function(t,e,n){"use strict";cc._RF.push(e,"0da1dzWCm9KPpxJO8tTC0I9","IosApi");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../../config/Config"),c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ocUrl="jsCallJavaMager",e.isdebug=!1,e.startTime=-1,e.endTime=-1,e.getRewardTime=12e3,e}return i(e,t),e.prototype.onLoad=function(){},e.prototype.reLoadVideo=function(){},e.prototype.loadInterstitialAd=function(){},e.prototype.showInterstitialAd=function(){this.showAd(1)},e.prototype.loadBannerAd=function(){},e.prototype.showBannerAd=function(){this.showAd(2)},e.prototype.hideBanner=function(){this.showAd(3)},e.prototype.showVideoAd=function(t,e,n){void 0===e&&(e=!0),this.isdebug?t&&t():(this.callback=t,n&&(this.failCallBack=n),this.showAd(4))},e.prototype.showNativeAdType=function(){this.showAd(6)},e.prototype.showAd=function(t){switch(t){case 1:console.log("ios\u63d2\u5c4f\u5e7f\u544a\u7c7b\u578b");break;case 2:console.log("ios\u663e\u793abanner");break;case 3:console.log("ios\u9690\u85cfbanner");break;case 4:console.log("ios\u6fc0\u52b1\u89c6\u9891");break;case 6:console.log("ios\u539f\u751f\u5e7f\u544a")}this.startTime=(new Date).getTime(),cc.sys.os==cc.sys.OS_IOS&&cc.sys.isNative&&jsb.reflection.callStaticMethod(this.ocUrl,"callShowAd:",t)},e.prototype.runCallBack=function(){this.endTime=(new Date).getTime(),this.endTime-this.startTime>this.getRewardTime&&(this.callback&&this.callback(),this.callback=null)},e.prototype.runFailCallBack=function(){this.failCallBack&&this.failCallBack(),this.failCallBack=null},e.prototype.showToast=function(t,e,n){void 0===e&&(e="none"),void 0===n&&(n=2),r.cUI.showTips(t,n)},e.prototype.loadVideoAd=function(){},e.prototype.onShareAppMessage=function(){},e.prototype.onShareAppVideo=function(){},e.prototype.openAwemeUserProfile=function(){},e.prototype.onShow=function(){},e.prototype.showShareMenu=function(){},e.prototype.startRecordVideo=function(){},e.prototype.clearVideo=function(){},e.prototype.stopRecordVideo=function(){},e.prototype.isRecordVideo=function(){return!1},e.prototype.setFrameRate=function(){},e.prototype.isPlatform=function(){return!0},e.prototype.loadRecordVideo=function(){},e.prototype.reportAnalytics=function(){},e.prototype.loadAdConfig=function(){var t=this;if(cc.sys.os==cc.sys.OS_IOS&&cc.sys.isNative){var e="https://game-1258575882.cos.ap-guangzhou.myqcloud.com/appJsons/DuiDieDaLu/duidiedalu_ios_v1.0.0.json?time="+(new Date).getTime();cc.assetManager.loadRemote(e,cc.JsonAsset,function(e,n){if(e)console.log("\u52a0\u8f7d\u8fdc\u7a0b\u5e7f\u544a\u914d\u7f6e\u5931\u8d25 err:"+e);else{var o=n.json,i=JSON.stringify(o);console.log("\u8bfb\u53d6\u5230\u7684json:"+i),null!=o.fanhui_time&&console.log("\u8bbe\u7f6e\u6309\u94ae\u5ef6\u8fdf\u65f6\u95f4:",o.fanhui_time);var r=Number(o.fanhui_AD),c=o.interval_time_AD.toFixed(1),a=Number(o.yuansheng_mubanxuanran_AD),s=Number(o.quanpingshiping_AD);null!=o.isdebug&&(t.isdebug=o.isdebug),cc.sys.os==cc.sys.OS_IOS&&cc.sys.isNative&&jsb.reflection.callStaticMethod(t.ocUrl,"initAdConfig:interval_time_AD:yuansheng_mubanxuanran_AD:quanpingshiping_AD:",r,c,a,s)}})}},e.prototype.open=function(t){console.log("url:",t),jsb.reflection.callStaticMethod(this.ocUrl,"showUrl:",t)},e.prototype.createTextBtn=function(t,e,n){var o=new cc.Node;o.color=cc.Color.BLACK.fromHEX(e.color?e.color:"#51AAF6"),o.setPosition(e.pos),o.parent=t;var i=o.addComponent(cc.Label);i.fontSize=28,i.enableUnderline=!0,i.string=e.str,o.on(cc.Node.EventType.TOUCH_END,n,this)},e}(t("../../base/SingleBase").default);n.default=c,window.IosApi=c.instance(),cc._RF.pop()},{"../../../config/Config":"Config","../../base/SingleBase":"SingleBase"}],KwaiApi:[function(t,e,n){"use strict";cc._RF.push(e,"61a5b7PJgxJGaeorUUquV1Y","KwaiApi");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../base/SingleBase"),c=t("../../../config/Config"),a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.enabled=!1,e.isCreating=!1,e}return i(e,t),e.prototype.onLoad=function(){kwaigame.init({appId:"ks706502191964790040"}),this.readyGo(),this.showShareMenu(),this.enabled=kwaigame.isSupport(kwaigame.Support.features.RewardVideo),this.enabled&&this.loadVideoAd(),this.loadRecordVideo(1)},e.prototype.readyGo=function(){kwaigame.readyGo()},e.prototype.loadBannerAd=function(){},e.prototype.showBannerAd=function(){},e.prototype.loadInterstitialAd=function(){},e.prototype.showInterstitialAd=function(){},e.prototype.loadVideoAd=function(){var t=this;this.videoAd=kwaigame.createRewardedVideoAd({adUnitId:"2300000642_01"}),this.videoAd?(this.videoAd.onClose(function(){t.showToast("\u9700\u8981\u5b8c\u6574\u64ad\u653e\u89c6\u9891\u624d\u80fd\u9886\u53d6\u5956\u52b1\u54df\uff01","none"),t.failCallBack&&t.failCallBack()}),this.videoAd.onReward(function(){t.callback&&t.callback(),t.callback=null,t.failCallBack=null})):this.showToast("\u6fc0\u52b1\u5e7f\u544a\u7ec4\u4ef6\u83b7\u53d6\u5931\u8d25")},e.prototype.showVideoAd=function(t,e,n){void 0===e&&(e=!0),this.enabled?(this.callback=t,n&&(this.failCallBack=n),this.videoAd.show({success:function(){},fail:function(){this.showToast("\u89c6\u9891\u663e\u793a\u5931\u8d25, \u7a0d\u540e\u91cd\u8bd5","none")}})):this.showToast("\u5f53\u524d\u7248\u672c\u65e0\u6cd5\u663e\u793a\u89c6\u9891","none")},e.prototype.showToast=function(t,e,n){void 0===e&&(e="none"),void 0===n&&(n=2e3),c.cUI.showTips(t,n)},e.prototype.onShareAppMessage=function(t){kwaigame.shareToMsg({title:"\u5927\u9c7c\u5403\u5c0f\u9c7c\uff0c\u624b\u6b8b\u515a\u6562\u6311\u6218\u4e48",desc:"\u6211\u7684\u9c7c\u5df2\u7ecf\u5403\u5230108\u7c73\u957f\u4e86\uff0c\u4f60\u6765\u8bd5\u8bd5\u4f60\u53ef\u4ee5\u628a\u9c7c\u5403\u591a\u957f\uff1f",iconUrl:"",imageUrl:"",response:function(){t&&t(),console.log("\u5206\u4eab\u5b8c\u6210")}})},e.prototype.onShareAppVideo=function(t,e){this.videoPath?this.recorder.publishVideo({video:this.videoPath,callback:function(e){e?console.log("\u53d1\u5e03\u5f55\u5c4f\u5931\u8d25\uff1a "+JSON.stringify(e)):(t(),this.videoPath=void 0,console.log("\u53d1\u5e03\u5f55\u5c4f\u6210\u529f"))}}):this.onShareAppMessage(t,e)},e.prototype.openAwemeUserProfile=function(t){var e=this;kwaigame.checkFollowState({accountType:"CPServiceAccount",callback:function(n){console.log("------------\u67e5\u770b\u5173\u6ce8\u56de\u8c03:"+JSON.stringify(n)),1!=n.errorCode?c.cUI.showTips("\u8bf7\u641c\u7d22 \u541e\u98df\u5929\u5730 \u8fdb\u884c\u5173\u6ce8"):n.hasFollow?c.cUI.showTips("\u5df2\u7ecf\u5173\u6ce8\u4e86"):kwaigame.openUserProfile({accountType:"CPServiceAccount",callback:function(n){console.log("------------\u70b9\u51fb\u5173\u6ce8\u56de\u8c03:"+JSON.stringify(n)),1==n.errorCode?e.onShow(t):c.cUI.showTips("\u8bf7\u641c\u7d22 \u541e\u98df\u5929\u5730 \u8fdb\u884c\u5173\u6ce8")}})}})},e.prototype.onShow=function(t){kwaigame.onShow(function(){(c.cStorage.getItemMap(c.$.StorageKey.skins,7).times||0)>0||kwaigame.checkFollowState({accountType:"CPServiceAccount",callback:function(e){1==e.errorCode&&(e.hasFollow?t():c.cUI.showTips("\u5173\u6ce8\u6709\u60ca\u559c\u5594")),kwaigame.offShow()}})})},e.prototype.showShareMenu=function(){},e.prototype.startRecordVideo=function(){this.recorder&&(this.videoPath=void 0,this.recorder.start())},e.prototype.clearVideo=function(){this.videoPath=void 0,this.isCreating=!1},e.prototype.stopRecordVideo=function(){this.recorder&&this.recorder.stop()},e.prototype.isRecordVideo=function(){return this.isCreating},e.prototype.setFrameRate=function(){},e.prototype.isPlatform=function(){return!!window.kwaigame},e.prototype.loadRecordVideo=function(){var t=this;kwaigame.createMediaRecorder&&(this.recorder=kwaigame.createMediaRecorder(),this.recorder?(this.recorder.onStart(function(){console.log("\u5f55\u5c4f\u5f00\u59cb"),t.videoPath=void 0,t.isCreating=!0}),this.recorder.onStop(function(e){t.videoPath=e.videoID,t.isCreating=!1,console.log("\u5f55\u5c4f\u7ed3\u675f",e)}),this.recorder.onPause(function(t){console.log(t)}),this.recorder.onResume(function(t){console.log(t)}),this.recorder.onError(function(t){console.log(t)})):console.log("\u5f53\u524d\u7248\u672c\u4e0d\u652f\u6301\u5f55\u5c4f"))},e.prototype.reportAnalytics=function(){},e}(r.default);n.default=a,cc._RF.pop()},{"../../../config/Config":"Config","../../base/SingleBase":"SingleBase"}],LevelItem:[function(t,e,n){"use strict";cc._RF.push(e,"80770Wl0tlOxadkJIGIJizf","LevelItem");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,c=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,n,c):i(e,n))||c);return r>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../../../common/module/DataManager"),a=cc._decorator,s=a.ccclass,l=(a.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._level=null,e._lock=null,e._videoIcon=null,e.index=0,e}return i(e,t),e.prototype.init=function(t){console.log("init"),this.index=t,this._level=this.node.$("_level").$(cc.Label),this._lock=this.node.$("_lock"),this._videoIcon=this.node.$("_videoIcon"),this._level.string=this.index+1+"",this._lock.active=this.index+1>c.default.instance().getUserData().currLevel,this._videoIcon.active=this.index+1==c.default.instance().getUserData().currLevel+1},r([s],e)}(cc.Component));n.default=l,cc._RF.pop()},{"../../../common/module/DataManager":"DataManager"}],Loading:[function(t,e,n){"use strict";cc._RF.push(e,"e537amHamZOkIuBPemiD4v+","Loading");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,c=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,n,c):i(e,n))||c);return r>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var c=cc._decorator,a=c.ccclass,s=(c.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.barWidth=903,e.speed=300,e}return i(e,t),e.prototype.onLoad=function(){this._bar=this.node.$("_bar").$(cc.Sprite),this._hero=this.node.$("_hero"),this._progressNum=this.node.$("_progressNum").$(cc.Label),this._bar.fillRange=0,this._hero.x=-454},e.prototype.update=function(t){this._bar.node.width+=this.speed*t,this._hero.x+=this.speed*t,this._bar.node.width>=this.barWidth&&(this._bar.node.width=this.barWidth,this.node.destroy()),this._progressNum.string=Math.floor(this._bar.node.width/this.barWidth*100)+"%"},r([a],e)}(cc.Component));n.default=s,cc._RF.pop()},{}],LocalStorage:[function(t,e,n){"use strict";cc._RF.push(e,"a7d03QbzeBAIZz0vtrMrNKS","LocalStorage");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function c(t){try{s(o.next(t))}catch(e){r(e)}}function a(t){try{s(o.throw(t))}catch(e){r(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(c,a)}s((o=o.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var n,o,i,r,c={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return s([t,e])}}function s(r){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return c.label++,{value:r[1],done:!1};case 5:c.label++,o=r[1],r=[0];continue;case 7:r=c.ops.pop(),c.trys.pop();continue;default:if(!(i=(i=c.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){c=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){c.label=r[1];break}if(6===r[0]&&c.label<i[1]){c.label=i[1],i=r;break}if(i&&c.label<i[2]){c.label=i[2],c.ops.push(r);break}i[2]&&c.ops.pop(),c.trys.pop();continue}r=e.call(t,c)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../config/Config"),s=t("../base/SingleBase"),l=cc.sys.localStorage,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dayNumber=0,e}return i(e,t),e.prototype.setItem=function(t,e){l.setItem(t,e)},e.prototype.getItem=function(t){var e=l.getItem(t)||0;return e?e+"":""},e.prototype.clear=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];t?t.forEach(function(t){l.removeItem(t)}):l.clear()},e.prototype.getItemMap=function(t,e){var n=l.getItem(t)||"{}";return n=JSON.parse(n),void 0!==e?n[e]||{}:n},e.prototype.setItemMap=function(t,e){var n=e.key,o=e.value,i=this.getItemMap(t),r=i[n]||{};console.log("----------setItemMap",n,o,r);var c=r.value||0,a=r.times||0;a++,n>15&&n<22?a>=3&&(a=0,c+=o):15==n?a>=5&&(a=0,c+=o,cc.sys.isBrowser||cc.sys.platform!==cc.sys.BYTEDANCE_GAME||tt.reportAnalytics("xiGua_unlockU",{})):30==n?(cc.sys.isBrowser||cc.sys.platform!==cc.sys.BYTEDANCE_GAME||tt.reportAnalytics("event_getGT",{}),a>=2&&(a=0,c+=o)):a>=2&&(a=0,c+=o),r={value:c,times:a},i[n]=r,console.log("------end----setItemMap",i[n],o,r),l.setItem(t,JSON.stringify(i))},e.prototype.setItemList=function(t,e){var n=e.key,o=e.skillIndex,i=e.value,r=this.getItemList(t),c=r[n]||[];c[o]||(c[o]=0),c[o]+=i,r[n]=c,l.setItem(t,JSON.stringify(r))},e.prototype.getItemList=function(t,e){var n=l.getItem(t)||"[]";return(n=JSON.parse(n))[e]||(n[e]=[]),n},e.prototype.getToday=function(){if(this.dayNumber>0&&cc.sys.platform===cc.sys.BYTEDANCE_GAME&&"preview"!=tt.env.VERSION)return this.dayNumber;var t=new Date,e=t.getTime().toString(),n=Math.floor(Number(e)/864e5),o="",i=t.getFullYear();o=i+"";var r=t.getMonth()+1;o+=r<10?"0"+r:""+r;var c=t.getDate();return o+=c<10?"0"+c:""+c,console.log("---------------\u4eca\u5929\u65f6\u95f4\uff1a",n,i,r,c,Number(o)),Number(o)},e.prototype.getTodayNumber=function(){this.getYMDHMS()},e.prototype.getYMDHMS=function(){return r(this,void 0,void 0,function(){return c(this,function(){return console.log("\u5f53\u524d\u65f6\u95f4:",(new Date).toLocaleDateString()),[2]})})},e.prototype.getUserData=function(){var t=l.getItem(a.$.StorageKey.userData);return t?JSON.parse(t):a.GameConfig.initUserData},e}(s.default);n.default=u,cc._RF.pop()},{"../../config/Config":"Config","../base/SingleBase":"SingleBase"}],MainScene:[function(t,e,n){"use strict";cc._RF.push(e,"b9c09mVugNGIab9sLWwn0me","MainScene");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,c=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,n,c):i(e,n))||c);return r>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../base/ViewSet"),a=t("../../config/Config"),s=t("../../common/utils/Utils"),l=t("../../common/module/DataManager"),u=t("./GameScene"),p=cc._decorator,f=p.ccclass,h=(p.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onLoad=function(){a.cUI.hideAllTips(),cc.dynamicAtlasManager.reset(),a.NodePool.clearAll(),a.Platform.clearVideo(),a.cSound.playMusic(a.$.Sound.main_bgm,.3)},e.prototype.start=function(){this.initView(),this.startStrengthTimer(),this.runStrengthTimer(),this.addEvent()},e.prototype.initEvents=function(){t.prototype.initEvents.call(this)},e.prototype.addEvent=function(){a.Event.registerEvent(a.$.EventKey.updateStrength,this.runStrengthTimer,this),a.Event.registerEvent(a.$.EventKey.startGame,this.startGame,this)},e.prototype.removeEvent=function(){a.Event.unregisterEvent(a.$.EventKey.updateStrength,this.runStrengthTimer,this),a.Event.unregisterEvent(a.$.EventKey.startGame,this.startGame,this)},e.prototype.initView=function(){this._version.string="v"+a.$.Version,this.setStrengthNumLabel()},e.prototype.runStrengthTimer=function(){this.setStrengthNumLabel(),this.unschedule(this.startStrengthTimer),this.schedule(this.startStrengthTimer,1)},e.prototype.setStrengthNumLabel=function(){this._strength_num.string=l.default.instance().getStrength().toString()},e.prototype.startStrengthTimer=function(){var t=l.default.instance().getStrength();if(t>=a.GameConfig.maxStrength)return this._strength_time.node.active=!1,this.unschedule(this.startStrengthTimer),console.log("\u6ee1\u4f53\u529b,\u79fb\u9664\u5b9a\u65f6\u5668"),void l.default.instance().removeLastGetStrengthTime();var e=0,n=l.default.instance().getLastGetStrengthTime(),o=Date.now(),i=Math.floor((o-n)/1e3),r=i/a.GameConfig.addStrengthTime;r>=1&&(e=Math.floor(r),l.default.instance().setLastGetStrengthTime(Date.now()));var c=e+t;c>a.GameConfig.maxStrength?(c=a.GameConfig.maxStrength,this.unschedule(this.startStrengthTimer),this._strength_time.node.hide(),l.default.instance().removeLastGetStrengthTime()):this._strength_time.node.show(),a.GameConfig.addStrengthTime-i<0?this._strength_time.string="":this._strength_time.string=s.default.formatMinSeconds(a.GameConfig.addStrengthTime-i),c!=t&&(l.default.instance().addStrength(e),this._strength_num.string=c.toString())},e.prototype.startGame=function(t){l.default.instance().getStrength()<a.GameConfig.useStrength?a.cUI.showLayer(a.$.Prefab.infiniteStrength):(l.default.instance().useStrength(a.GameConfig.useStrength),a.cUI.showScene(a.$.Prefab.game_scene).then(function(e){e.$(u.default).init(t)}),this.unschedule(this.startStrengthTimer))},e.prototype.onBtnStartGame=function(){a.cSound.playEffect(a.$.Sound.btn),a.cUI.showLayer(a.$.Prefab.selectLevel)},e.prototype.onBtnSetUp=function(){a.cSound.playEffect(a.$.Sound.btn),a.cUI.showLayer(a.$.Prefab.setup)},e.prototype.onBtnAddStrength=function(){a.cSound.playEffect(a.$.Sound.btn),a.cUI.showLayer(a.$.Prefab.addStrength)},e.prototype.onBtnInfiniteStrength=function(){a.cSound.playEffect(a.$.Sound.btn),a.cUI.showLayer(a.$.Prefab.infiniteStrength)},e.prototype.onDestroy=function(){console.log("\u5173\u95edmainscene"),this.removeEvent()},r([f],e)}(c.MainSceneView));n.default=h,cc._RF.pop()},{"../../common/module/DataManager":"DataManager","../../common/utils/Utils":"Utils","../../config/Config":"Config","../base/ViewSet":"ViewSet","./GameScene":"GameScene"}],Main:[function(t,e,n){"use strict";cc._RF.push(e,"242a601KjVDP4uw5nmgEi2i","Main");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,c=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,n,c):i(e,n))||c);return r>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var c=cc._decorator.ccclass,a=t("./config/Config"),s=t("./common/module/Sound"),l=t("./common/module/ResManager"),u=t("./common/module/BundleManager"),p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.currLoadSubNum=0,e.subPackageList=["prefab","sound","texture"],e.isLoadingComple=!1,e}var n;return i(e,t),n=e,e.prototype.onLoad=function(){a.cStorage.getTodayNumber(),a.Platform.onLoad(),l.default.instance().init(u.default.instance()),s.default.instance().init(),this.loadSubPackage()},e.prototype.onLoadingClose=function(){this.isLoadingComple=!0},e.prototype.showMainScene=function(){a.cUI.showScene(a.$.Prefab.main_scene),this.node.removeComponent(n)},e.prototype.addPackage=function(){this.currLoadSubNum++,this.currLoadSubNum==this.subPackageList.length&&this.showMainScene()},e.prototype.loadSubPackage=function(){for(var t=this,e=function(e){cc.assetManager.loadBundle(n.subPackageList[e],function(n,o){n?console.log("\u52a0\u8f7d\u5305"+t.subPackageList[e]+"\u5931\u8d25"):(t.addPackage(),u.default.instance().addBundle(t.subPackageList[e],o))})},n=this,o=0;o<this.subPackageList.length;o++)e(o)},n=r([c],e)}(cc.Component);n.default=p,cc._RF.pop()},{"./common/module/BundleManager":"BundleManager","./common/module/ResManager":"ResManager","./common/module/Sound":"Sound","./config/Config":"Config"}],Md5:[function(t,e,n){"use strict";cc._RF.push(e,"4e9f9sdK59OsJF4JxTCTZJQ","Md5"),Object.defineProperty(n,"__esModule",{value:!0}),n.md5=void 0,n.md5=function(t){var e=function(t,e){return t<<e|t>>>32-e},n=function(t,e){var n,o,i,r,c;return i=2147483648&t,r=2147483648&e,c=(1073741823&t)+(1073741823&e),(n=1073741824&t)&(o=1073741824&e)?2147483648^c^i^r:n|o?1073741824&c?3221225472^c^i^r:1073741824^c^i^r:c^i^r},o=function(t,e,n){return t&e|~t&n},i=function(t,e,n){return t&n|e&~n},r=function(t,e,n){return t^e^n},c=function(t,e,n){return e^(t|~n)},a=function(t,i,r,c,a,s,l){return t=n(t,n(n(o(i,r,c),a),l)),n(e(t,s),i)},s=function(t,o,r,c,a,s,l){return t=n(t,n(n(i(o,r,c),a),l)),n(e(t,s),o)},l=function(t,o,i,c,a,s,l){return t=n(t,n(n(r(o,i,c),a),l)),n(e(t,s),o)},u=function(t,o,i,r,a,s,l){return t=n(t,n(n(c(o,i,r),a),l)),n(e(t,s),o)},p=function(t){for(var e,n=t.length,o=n+8,i=16*((o-o%64)/64+1),r=Array(i-1),c=0,a=0;a<n;)c=a%4*8,r[e=(a-a%4)/4]=r[e]|t.charCodeAt(a)<<c,a++;return c=a%4*8,r[e=(a-a%4)/4]=r[e]|128<<c,r[i-2]=n<<3,r[i-1]=n>>>29,r},f=function(t){var e,n="",o="";for(e=0;e<=3;e++)n+=(o="0"+(t>>>8*e&255).toString(16)).substr(o.length-2,2);return n},h=function(t){t=t.toString().replace(/\x0d\x0a/g,"\n");for(var e="",n=0;n<t.length;n++){var o=t.charCodeAt(n);o<128?e+=String.fromCharCode(o):o>127&&o<2048?(e+=String.fromCharCode(o>>6|192),e+=String.fromCharCode(63&o|128)):(e+=String.fromCharCode(o>>12|224),e+=String.fromCharCode(o>>6&63|128),e+=String.fromCharCode(63&o|128))}return e};return function(t){var e,o,i,r,c,d,y,g,m,_=Array();for(t=h(t),_=p(t),d=1732584193,y=4023233417,g=2562383102,m=271733878,e=0;e<_.length;e+=16)o=d,i=y,r=g,c=m,d=a(d,y,g,m,_[e+0],7,3614090360),m=a(m,d,y,g,_[e+1],12,3905402710),g=a(g,m,d,y,_[e+2],17,606105819),y=a(y,g,m,d,_[e+3],22,3250441966),d=a(d,y,g,m,_[e+4],7,4118548399),m=a(m,d,y,g,_[e+5],12,1200080426),g=a(g,m,d,y,_[e+6],17,2821735955),y=a(y,g,m,d,_[e+7],22,4249261313),d=a(d,y,g,m,_[e+8],7,1770035416),m=a(m,d,y,g,_[e+9],12,2336552879),g=a(g,m,d,y,_[e+10],17,4294925233),y=a(y,g,m,d,_[e+11],22,2304563134),d=a(d,y,g,m,_[e+12],7,1804603682),m=a(m,d,y,g,_[e+13],12,4254626195),g=a(g,m,d,y,_[e+14],17,2792965006),y=a(y,g,m,d,_[e+15],22,1236535329),d=s(d,y,g,m,_[e+1],5,4129170786),m=s(m,d,y,g,_[e+6],9,3225465664),g=s(g,m,d,y,_[e+11],14,643717713),y=s(y,g,m,d,_[e+0],20,3921069994),d=s(d,y,g,m,_[e+5],5,3593408605),m=s(m,d,y,g,_[e+10],9,38016083),g=s(g,m,d,y,_[e+15],14,3634488961),y=s(y,g,m,d,_[e+4],20,3889429448),d=s(d,y,g,m,_[e+9],5,568446438),m=s(m,d,y,g,_[e+14],9,3275163606),g=s(g,m,d,y,_[e+3],14,4107603335),y=s(y,g,m,d,_[e+8],20,1163531501),d=s(d,y,g,m,_[e+13],5,2850285829),m=s(m,d,y,g,_[e+2],9,4243563512),g=s(g,m,d,y,_[e+7],14,1735328473),y=s(y,g,m,d,_[e+12],20,2368359562),d=l(d,y,g,m,_[e+5],4,4294588738),m=l(m,d,y,g,_[e+8],11,2272392833),g=l(g,m,d,y,_[e+11],16,1839030562),y=l(y,g,m,d,_[e+14],23,4259657740),d=l(d,y,g,m,_[e+1],4,2763975236),m=l(m,d,y,g,_[e+4],11,1272893353),g=l(g,m,d,y,_[e+7],16,4139469664),y=l(y,g,m,d,_[e+10],23,3200236656),d=l(d,y,g,m,_[e+13],4,681279174),m=l(m,d,y,g,_[e+0],11,3936430074),g=l(g,m,d,y,_[e+3],16,3572445317),y=l(y,g,m,d,_[e+6],23,76029189),d=l(d,y,g,m,_[e+9],4,3654602809),m=l(m,d,y,g,_[e+12],11,3873151461),g=l(g,m,d,y,_[e+15],16,530742520),y=l(y,g,m,d,_[e+2],23,3299628645),d=u(d,y,g,m,_[e+0],6,4096336452),m=u(m,d,y,g,_[e+7],10,1126891415),g=u(g,m,d,y,_[e+14],15,2878612391),y=u(y,g,m,d,_[e+5],21,4237533241),d=u(d,y,g,m,_[e+12],6,1700485571),m=u(m,d,y,g,_[e+3],10,2399980690),g=u(g,m,d,y,_[e+10],15,4293915773),y=u(y,g,m,d,_[e+1],21,2240044497),d=u(d,y,g,m,_[e+8],6,1873313359),m=u(m,d,y,g,_[e+15],10,4264355552),g=u(g,m,d,y,_[e+6],15,2734768916),y=u(y,g,m,d,_[e+13],21,1309151649),d=u(d,y,g,m,_[e+4],6,4149444226),m=u(m,d,y,g,_[e+11],10,3174756917),g=u(g,m,d,y,_[e+2],15,718787259),y=u(y,g,m,d,_[e+9],21,3951481745),d=n(d,o),y=n(y,i),g=n(g,r),m=n(m,c);return(f(d)+f(y)+f(g)+f(m)).toLowerCase()}(t)},cc._RF.pop()},{}],NetLoading:[function(t,e,n){"use strict";cc._RF.push(e,"71d3eWO2jhEHI/N73f0sMsx","NetLoading");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,c=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,n,c):i(e,n))||c);return r>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../base/ViewSet"),a=cc._decorator,s=a.ccclass,l=(a.property,a.menu),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.is_reconnect=!1,e}return i(e,t),e.prototype.init=function(t,e){this.is_reconnect=e,this._tips_title.setLabel(t),this.showAction()},e.prototype.showAction=function(){var t=this;this._tips_img.stopAllActions(),this.unscheduleAllCallbacks(),this.is_reconnect?cc.tween(this._tips_img).by(10,{angle:-360}).repeatForever().start():(this._tips_img.angle=0,cc.tween(this._tips_img).by(10,{angle:-360}).start(),this.timer(10).then(function(){t.node.hide()}))},r([s,l("component/NetLoading")],e)}(c.NetLoadingView);n.default=u,cc._RF.pop()},{"../base/ViewSet":"ViewSet"}],PlatformApi:[function(t,e,n){"use strict";cc._RF.push(e,"6d28fkwdH1KTZPmVkDuncMd","PlatformApi");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r,c=t("../base/SingleBase"),a=t("./platform/TtApi"),s=t("./platform/KwaiApi"),l=t("./platform/AndroidApi"),u=t("./platform/IosApi"),p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onLoad=function(){window.tt?r=a.default.instance():window.kwaigame?r=s.default.instance():cc.sys.isNative&&cc.sys.os==cc.sys.OS_ANDROID?r=l.default.instance():cc.sys.isNative&&cc.sys.os==cc.sys.OS_IOS&&(r=u.default.instance()),r&&(r.onLoad(),r.showShareMenu())},e.prototype.showToast=function(t,e,n){void 0===e&&(e="none"),void 0===n&&(n=2e3),r&&r.showToast(t,e,n)},e.prototype.startRecordVideo=function(t){void 0===t&&(t=90),r&&r.startRecordVideo(t)},e.prototype.stopRecordVideo=function(){r&&r.stopRecordVideo()},e.prototype.loadVideoAd=function(){r&&r.loadVideoAd()},e.prototype.showVideoAd=function(t,e,n){if(void 0===e&&(e=!0),!(cc.sys.isBrowser||cc.sys.platform===cc.sys.BYTEDANCE_GAME&&"preview"==tt.env.VERSION))return r?void r.showVideoAd(t,e,n):(console.log("\u6ca1\u6709\u63a5\u5165\u5e73\u53f0!"),void t());t()},e.prototype.loadBannerAd=function(){r&&r.loadBannerAd()},e.prototype.showBannerAd=function(){r?r.showBannerAd():console.log("\u6ca1\u6709\u63a5\u5165\u5e73\u53f0!")},e.prototype.loadInterstitialAd=function(){r&&r.loadInterstitialAd()},e.prototype.showInterstitialAd=function(){r?r.showInterstitialAd():console.log("\u6ca1\u6709\u63a5\u5165\u5e73\u53f0!")},e.prototype.showShareMenu=function(){r?r.showShareMenu():console.log("\u6ca1\u6709\u63a5\u5165\u5e73\u53f0!")},e.prototype.onShareAppMessage=function(t,e){void 0===e&&(e=!0),r?r.onShareAppMessage(t,e):console.log("\u6ca1\u6709\u63a5\u5165\u5e73\u53f0!")},e.prototype.onShareAppVideo=function(t,e){void 0===e&&(e=!0),cc.sys.isBrowser?t&&t():r?r.onShareAppVideo(t,e):console.log("\u6ca1\u6709\u63a5\u5165\u5e73\u53f0!")},e.prototype.openAwemeUserProfile=function(t){cc.sys.isBrowser?t&&t():r&&r.openAwemeUserProfile(t)},e.prototype.isRecordVideo=function(){if(!r)return!1;r.isRecordVideo()},e.prototype.clearVideo=function(){if(r)return r.clearVideo()},e.prototype.loadRecordVideo=function(t){r.loadRecordVideo(t)},e.prototype.reportAnalytics=function(t,e){void 0===e&&(e={}),r&&r.reportAnalytics(t,e)},e}(c.default);n.default=p,cc._RF.pop()},{"../base/SingleBase":"SingleBase","./platform/AndroidApi":"AndroidApi","./platform/IosApi":"IosApi","./platform/KwaiApi":"KwaiApi","./platform/TtApi":"TtApi"}],Pool:[function(t,e,n){"use strict";cc._RF.push(e,"7bebdMZnUVA8YsUPJHGKLFe","Pool");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function c(t){try{s(o.next(t))}catch(e){r(e)}}function a(t){try{s(o.throw(t))}catch(e){r(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(c,a)}s((o=o.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var n,o,i,r,c={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return s([t,e])}}function s(r){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return c.label++,{value:r[1],done:!1};case 5:c.label++,o=r[1],r=[0];continue;case 7:r=c.ops.pop(),c.trys.pop();continue;default:if(!(i=(i=c.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){c=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){c.label=r[1];break}if(6===r[0]&&c.label<i[1]){c.label=i[1],i=r;break}if(i&&c.label<i[2]){c.label=i[2],c.ops.push(r);break}i[2]&&c.ops.pop(),c.trys.pop();continue}r=e.call(t,c)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../base/SingleBase"),s=t("./ResManager"),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.pools=new Map,e}return i(e,t),e.prototype.createPool=function(t){var e=new cc.NodePool(t);return this.pools.set(e.poolHandlerComp,e),e},e.prototype.get=function(t){return r(this,void 0,Promise,function(){var e;return c(this,function(){return(e=this.pools.get(t)||this.createPool(t)).size()>0?[2,e.get()]:[2,s.default.instance().getNode(t)]})})},e.prototype.put=function(t){if(t){var e=this.pools.get(t.url_name);e||(e=this.createPool(t.url_name)),e.put(t)}else console.log("\u8282\u70b9\u4e0d\u5b58\u5728\uff01")},e.prototype.puts=function(t){var e=this;t.forEach(function(t){e.put(t)})},e.prototype.clear=function(t){var e=this.pools.get(t);e&&(e.clear(),cc.resources.release(t))},e.prototype.clearAll=function(){this.pools.forEach(function(t){t.clear()})},e}(a.default);n.default=l,cc._RF.pop()},{"../base/SingleBase":"SingleBase","./ResManager":"ResManager"}],ResManager:[function(t,e,n){"use strict";cc._RF.push(e,"b5736VqFARGT6VqeBjO7V98","ResManager");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function c(t){try{s(o.next(t))}catch(e){r(e)}}function a(t){try{s(o.throw(t))}catch(e){r(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(c,a)}s((o=o.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var n,o,i,r,c={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return s([t,e])}}function s(r){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return c.label++,{value:r[1],done:!1};case 5:c.label++,o=r[1],r=[0];continue;case 7:r=c.ops.pop(),c.trys.pop();continue;default:if(!(i=(i=c.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){c=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){c.label=r[1];break}if(6===r[0]&&c.label<i[1]){c.label=i[1],i=r;break}if(i&&c.label<i[2]){c.label=i[2],c.ops.push(r);break}i[2]&&c.ops.pop(),c.trys.pop();continue}r=e.call(t,c)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../config/Config"),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bundleMgr=null,e}return i(e,t),e.prototype.init=function(t){this.bundleMgr=t},e.prototype.createNode=function(t,e){var n=cc.instantiate(t);return n.name=t.name,n.url_name=e,n.show(),n},e.prototype.getNode=function(t){return r(this,void 0,Promise,function(){var e=this;return c(this,function(){return[2,new Promise(function(n){var o=e.bundleMgr.getBundle(a.$.BundleKey.prefab).get(t);if(o){var i=e.createNode(o,t);n(i)}e.bundleMgr.getBundle(a.$.BundleKey.prefab).load(t,cc.Prefab,function(o,i){if(o)console.error(t+" not exist");else{var r=e.createNode(i,t);n(r)}})})]})})},e.prototype.getPrefab=function(t){return r(this,void 0,Promise,function(){var e=this;return c(this,function(){return[2,new Promise(function(n){var o=e.bundleMgr.getBundle(a.$.BundleKey.prefab).get(t);o&&n(o),e.bundleMgr.getBundle(a.$.BundleKey.prefab).load(t,cc.Prefab,function(e,o){e?console.error(t+" not exist"):n(o)})})]})})},e.prototype.getTexture=function(t){var e=this;return new Promise(function(n){var o=e.bundleMgr.getBundle(a.$.BundleKey.texture).get(t);o&&n(o),e.bundleMgr.getBundle(a.$.BundleKey.texture).load(t,cc.SpriteFrame,function(e,o){e?console.error(t+" not exist"):n(o)})})},e.prototype.getSound=function(t){return r(this,void 0,Promise,function(){var e=this;return c(this,function(){return[2,new Promise(function(n,o){if(""!=t){var i=e.bundleMgr.getBundle(a.$.BundleKey.sound).get(t);i&&n(i),e.bundleMgr.getBundle(a.$.BundleKey.sound).load(t,cc.AudioClip,function(e,i){if(e)return console.error(t+" not exist"),void o(e);n(i)})}else console.log(t+"\u97f3\u6548\u4e0d\u5b58\u5728")})]})})},e.prototype.loadResDir=function(t,e){var n=this;return console.time(t),new Promise(function(o){var i=0;n.bundleMgr.getBundle(a.$.BundleKey.prefab).loadDir(t,function(t,n){var o=(t/n).toFixed(2).toNumber();o>i&&(i=o,e instanceof cc.ProgressBar?e.progress=o:e instanceof cc.Node&&e.setLabel((100*o).toFixed(0)+"%"))},function(e,n){e||0===n.length?console.error(t+" not exist"):o(n),console.timeEnd(t)})})},e.prototype.loadResArray=function(t){return console.time(t.toString()),new Promise(function(){})},e}(t("../base/SingleBase").default);n.default=s,cc._RF.pop()},{"../../config/Config":"Config","../base/SingleBase":"SingleBase"}],Res:[function(t,e,n){"use strict";cc._RF.push(e,"17353NIxmhHCKAqf4qMVo28","Res"),Object.defineProperty(n,"__esModule",{value:!0}),n.Texture=n.Sound=n.Atlas=n.Prefab=void 0,n.Prefab={main_scene:"scene/main_scene",game_scene:"scene/game_scene",setup:"layer/setup",addStrength:"layer/addStrength",infiniteStrength:"layer/infiniteStrength",selectLevel:"layer/selectLevel",gameStop:"layer/gameStop",gameResult:"layer/gameResult",levelItem:"layer/item/levelItem",loading:"component/loading",mask:"component/mask",tip:"component/tip",level_1:"game/level/level_1",player:"game/player/player",enemyUrl:"game/enemy/enemy_",boom:"game/enemy/boom",coin:"game/coin/coin",wall1:"game/wall/wall_1",wall2:"game/wall/wall_2",end:"game/end",bullet:"game/bullet"},n.Atlas={},n.Sound={main_bgm:"bgm/main_bgm",game_bgm:"bgm/game_bgm",death:"death",death2:"death2",btn:"btn",jump:"jump",break_brick:"break_brick",enemy_death:"enemy_death",coin:"coin",win:"win"},n.Texture={},cc._RF.pop()},{}],SelectLevel:[function(t,e,n){"use strict";cc._RF.push(e,"4fecczrcSlFLoudv6BG/mge","SelectLevel");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,c=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,n,c):i(e,n))||c);return r>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../../common/module/DataManager"),a=t("../../common/module/Pool"),s=t("../../config/Config"),l=t("../base/ViewSet"),u=t("./item/LevelItem"),p=cc._decorator,f=p.ccclass,h=(p.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.currPage=0,e}return i(e,t),e.prototype.onLoad=function(){var t=this;this.scheduleOnce(function(){t.initView()})},e.prototype.initView=function(){for(var t=this,e=0,n=function(n){for(var o=0;o<10;o++)a.default.instance().get(s.$.Prefab.levelItem).then(function(o){o.parent=t._content.$("page_"+(n+1)),o.$(u.default).init(e),o.on(cc.Node.EventType.TOUCH_END,t.onClickItem.bind(t,e),t),e++})},o=0;o<3;o++)n(o)},e.prototype.onClickItem=function(t){s.cSound.playEffect(s.$.Sound.btn),console.log("\u70b9\u51fb",t),t+1<=c.default.instance().getUserData().currLevel?(console.log("\u8fdb\u5165\u6e38\u620f"),s.Event.emitEvent(s.$.EventKey.startGame,t+1),s.cUI.hideLayer(this.node)):t+1==c.default.instance().getUserData().currLevel+1?console.log("\u63d0\u524d\u89e3\u9501\u5173\u5361"):console.log("\u4e0d\u53ef\u70b9\u51fb")},e.prototype.onBtnClose=function(){s.cSound.playEffect(s.$.Sound.btn),s.cUI.hideLayer(this.node)},e.prototype.onBtnNextPage=function(){s.cSound.playEffect(s.$.Sound.btn);var t=this.currPage+1;this._pageView.scrollToPage(t,1),this.currPage=t},e.prototype.onBtnLastPage=function(){s.cSound.playEffect(s.$.Sound.btn);var t=this.currPage-1;t<0||(this._pageView.scrollToPage(t,1),this.currPage=t)},e.prototype.onPageMoveEnd=function(t){this.currPage=t._curPageIdx},r([f],e)}(l.SelectLevelView));n.default=h,cc._RF.pop()},{"../../common/module/DataManager":"DataManager","../../common/module/Pool":"Pool","../../config/Config":"Config","../base/ViewSet":"ViewSet","./item/LevelItem":"LevelItem"}],SetUp:[function(t,e,n){"use strict";cc._RF.push(e,"c0be8kObRNH0aQAK56oXnfG","SetUp");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,c=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,n,c):i(e,n))||c);return r>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../../config/Config"),a=t("../base/ViewSet"),s=cc._decorator,l=s.ccclass,u=(s.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onLoad=function(){this.setMusicView(),this.setEffectView()},e.prototype.setMusicView=function(){this._music_open.active=c.cSound.music_switch,this._music_close.active=!c.cSound.music_switch},e.prototype.setEffectView=function(){this._effect_open.active=c.cSound.effect_switch,this._effect_close.active=!c.cSound.effect_switch},e.prototype.onBtnClose=function(){c.cSound.playEffect(c.$.Sound.btn),c.cUI.hideLayer(this.node)},e.prototype.onBtnMusic=function(){c.cSound.playEffect(c.$.Sound.btn),c.cSound.toggleMusic(),this.setMusicView()},e.prototype.onBtnEffect=function(){c.cSound.playEffect(c.$.Sound.btn),c.cSound.toggleEffect(),this.setEffectView()},r([l],e)}(a.SetUpView));n.default=u,cc._RF.pop()},{"../../config/Config":"Config","../base/ViewSet":"ViewSet"}],SineWave:[function(t,e,n){"use strict";cc._RF.push(e,"9990eprmJxHuaS1+ka0+iJh","SineWave");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,c=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,n,c):i(e,n))||c);return r>3&&c&&Object.defineProperty(e,n,c),c},c=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function c(t){try{s(o.next(t))}catch(e){r(e)}}function a(t){try{s(o.throw(t))}catch(e){r(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(c,a)}s((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,i,r,c={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return s([t,e])}}function s(r){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return c.label++,{value:r[1],done:!1};case 5:c.label++,o=r[1],r=[0];continue;case 7:r=c.ops.pop(),c.trys.pop();continue;default:if(!(i=(i=c.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){c=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){c.label=r[1];break}if(6===r[0]&&c.label<i[1]){c.label=i[1],i=r;break}if(i&&c.label<i[2]){c.label=i[2],c.ops.push(r);break}i[2]&&c.ops.pop(),c.trys.pop();continue}r=e.call(t,c)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.SineWaveDirection=void 0,t("./EditorAsset");var s,l=cc._decorator,u=l.ccclass,p=l.property,f=l.requireComponent,h=l.executeInEditMode,d=l.disallowMultiple,y=l.executionOrder;(function(t){t[t.Left=1]="Left",t[t.Right=2]="Right"})(s=n.SineWaveDirection||(n.SineWaveDirection={}));var g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._effect=null,e._amplitude=.05,e._angularVelocity=10,e._frequency=10,e._height=.5,e._direction=s.Left,e.sprite=null,e.material=null,e.flag=.01,e}return i(e,t),Object.defineProperty(e.prototype,"effect",{get:function(){return this._effect},set:function(t){this._effect=t,this.init()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"amplitude",{get:function(){return this._amplitude},set:function(t){this._amplitude=t,this.updateProperties()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"angularVelocity",{get:function(){return this._angularVelocity},set:function(t){this._angularVelocity=t,this.updateProperties()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"frequency",{get:function(){return this._frequency},set:function(t){this._frequency=t,this.updateProperties()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},set:function(t){this._height=t,this.updateProperties()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"direction",{get:function(){return this._direction},set:function(t){this._direction=t,this.updateProperties()},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){this.init()},e.prototype.resetInEditor=function(){this.init()},e.prototype.init=function(){return c(this,void 0,void 0,function(){return a(this,function(t){switch(t.label){case 0:return[3,2];case 1:t.sent(),t.label=2;case 2:return this._effect?(this.sprite=this.node.getComponent(cc.Sprite),this.sprite.spriteFrame&&(this.sprite.spriteFrame.getTexture().packable=!1),this.material=cc.Material.create(this._effect),this.sprite.setMaterial(0,this.material),this.updateProperties(),[2]):[2]}})})},e.prototype.setSpriteFrame=function(t){this.sprite.spriteFrame=t,this.sprite.spriteFrame.getTexture().packable=!1,this.updateProperties()},e.prototype.updateProperties=function(){if(!this.effect)return cc.warn("[SineWave]","\u8bf7\u6307\u5b9a Effect \u8d44\u6e90\uff01");this.material.setProperty("amplitude",this._amplitude),this.material.setProperty("angularVelocity",this._angularVelocity),this.material.setProperty("frequency",this._frequency),this.material.setProperty("offset",1-this._height+this._amplitude),this.material.setProperty("toLeft",this._direction===s.Left)},e.prototype.update=function(){this._amplitude+=this.flag,this._amplitude>=.55&&(this.flag=-.01),this._amplitude<.2&&(this.flag=.01),this.updateProperties()},r([p],e.prototype,"_effect",void 0),r([p({type:cc.EffectAsset,tooltip:!1,readonly:!0})],e.prototype,"effect",null),r([p],e.prototype,"_amplitude",void 0),r([p({tooltip:!1})],e.prototype,"amplitude",null),r([p],e.prototype,"_angularVelocity",void 0),r([p({tooltip:!1})],e.prototype,"angularVelocity",null),r([p],e.prototype,"_frequency",void 0),r([p({tooltip:!1})],e.prototype,"frequency",null),r([p],e.prototype,"_height",void 0),r([p({tooltip:!1})],e.prototype,"height",null),r([p],e.prototype,"_direction",void 0),r([p({type:cc.Enum(s),tooltip:!1})],e.prototype,"direction",null),r([u,f(cc.Sprite),h,d,y(-100)],e)}(cc.Component);n.default=g,cc._RF.pop()},{"./EditorAsset":"EditorAsset"}],SingleBase:[function(t,e,n){"use strict";cc._RF.push(e,"747187+MExBEoJ0xS4+BA1G","SingleBase"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(){}return t.instance=function(){return this._instance||(this._instance=new this),this._instance},t.prototype.timer=function(){return new Promise(function(t){t(1)})},t}();n.default=o,cc._RF.pop()},{}],Sound:[function(t,e,n){"use strict";cc._RF.push(e,"7052dXb+IVIOr/i1QKyYDGo","Sound");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,c=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,n,c):i(e,n))||c);return r>3&&c&&Object.defineProperty(e,n,c),c},c=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function c(t){try{s(o.next(t))}catch(e){r(e)}}function a(t){try{s(o.throw(t))}catch(e){r(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(c,a)}s((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,i,r,c={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return s([t,e])}}function s(r){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return c.label++,{value:r[1],done:!1};case 5:c.label++,o=r[1],r=[0];continue;case 7:r=c.ops.pop(),c.trys.pop();continue;default:if(!(i=(i=c.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){c=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){c.label=r[1];break}if(6===r[0]&&c.label<i[1]){c.label=i[1],i=r;break}if(i&&c.label<i[2]){c.label=i[2],c.ops.push(r);break}i[2]&&c.ops.pop(),c.trys.pop();continue}r=e.call(t,c)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../config/Config"),l=t("../base/SingleBase"),u=t("./ResManager"),p=cc._decorator,f=p.ccclass,h=(p.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.music_switch=!0,e.effect_switch=!0,e.music_volume=1,e.effect_volume=.5,e.effect_list=new Map,e}return i(e,t),e.prototype.init=function(){""==s.cStorage.getItem(s.$.StorageKey.musicSwitch)?this.music_switch=!0:this.music_switch=Boolean(s.cStorage.getItem(s.$.StorageKey.musicSwitch).toNumber()),""==s.cStorage.getItem(s.$.StorageKey.effectSwitch)?this.effect_switch=!0:this.effect_switch=Boolean(s.cStorage.getItem(s.$.StorageKey.effectSwitch).toNumber())},e.prototype.toggleMusic=function(){this.music_switch=!this.music_switch,s.cStorage.setItem(s.$.StorageKey.musicSwitch,this.music_switch?1:0),this.music_switch?this.resumeMusic():this.pauseMusic()},e.prototype.toggleEffect=function(){this.effect_switch=!this.effect_switch,s.cStorage.setItem(s.$.StorageKey.effectSwitch,this.effect_switch?1:0)},e.prototype.isPlaying=function(t){return cc.audioEngine.getState(t)===cc.audioEngine.AudioState.PLAYING},e.prototype.playEffect=function(t,e){return void 0===e&&(e=!1),c(this,void 0,void 0,function(){var e;return a(this,function(n){switch(n.label){case 0:return!t||!this.effect_switch||this.effect_volume<=0?[2]:[4,u.default.instance().getSound(t).then(function(t){return t})];case 1:return e=n.sent(),cc.audioEngine.playEffect(e,!1),[2]}})})},e.prototype.playMusic=function(t,e){return void 0===e&&(e=this.music_volume),c(this,void 0,void 0,function(){var n;return a(this,function(o){switch(o.label){case 0:return e>0&&this.setMusicVolume(e),!this.music_switch||this.music_volume<=0?[2]:(cc.audioEngine.stopMusic(),this.now_music=t,[4,u.default.instance().getSound(t).then(function(t){return t})]);case 1:return n=o.sent(),cc.audioEngine.playMusic(n,!0),[2]}})})},e.prototype.setMusicVolume=function(t){this.music_volume=t,cc.audioEngine.setMusicVolume(t)},e.prototype.setEffectVolume=function(t){this.effect_volume=t,cc.audioEngine.setEffectsVolume(t)},e.prototype.isMusicPlaying=function(){cc.audioEngine.isMusicPlaying()},e.prototype.pauseMusic=function(){cc.audioEngine.pauseMusic()},e.prototype.stopMusic=function(){cc.audioEngine.stopMusic()},e.prototype.resumeMusic=function(){null!=this.now_music?cc.audioEngine.resumeMusic():this.playMusic(s.$.Sound.game_bgm,this.music_volume)},r([f],e)}(l.default));n.default=h,cc._RF.pop()},{"../../config/Config":"Config","../base/SingleBase":"SingleBase","./ResManager":"ResManager"}],Tip:[function(t,e,n){"use strict";cc._RF.push(e,"52606j2++ZPaI/rE8SY1j/R","Tip");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,c=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,n,c):i(e,n))||c);return r>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var c,a=t("../../common/module/Pool"),s=t("../base/ViewSet");(function(t){t[t.show=0]="show",t[t.removing=1]="removing",t[t.dead=2]="dead"})(c||(c={}));var l=cc._decorator,u=l.ccclass,p=(l.property,l.menu),f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.init=function(t,e){this.node.parent=t,this.node.opacity=255,this.node.y=0,this.setTipsText(e)},e.prototype.show=function(t,e,n,o){this.init(t,e,o),this.runAction(n)},e.prototype.runAction=function(t){var e=this;cc.tween(this.node).delay(t).to(.5,{position:cc.v2(0,70),opacity:100}).call(function(){a.default.instance().put(e.node)}).start()},e.prototype.setTipsText=function(t){this._content.string=t},r([u,p("component/Tip")],e)}(s.TipView);n.default=f,cc._RF.pop()},{"../../common/module/Pool":"Pool","../base/ViewSet":"ViewSet"}],TtApi:[function(t,e,n){"use strict";cc._RF.push(e,"159201z4SpIdrtq/ml5kKJO","TtApi");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../../config/Config"),c=t("../../base/SingleBase"),a=["Douyin","Toutiao","news_article_lite"],s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.enabled=!1,e.isCreating=!1,e.isNewUser=!1,e}return i(e,t),e.prototype.onLoad=function(){this.getUserId(),this.showShareMenu();var t=this;tt.getSystemInfo({success:function(e){t.appName=e.appName,a.includes(t.appName)&&(t.enabled=!0,t.loadVideoAd()),"devtools"!==t.appName&&t.loadRecordVideo(e)},fail:function(){console.log("getSystemInfo \u8c03\u7528\u5931\u8d25")}})},e.prototype.getUserId=function(){var t=this;cc.sys.localStorage.getItem("hp_val_user")||(this.isNewUser=!0,cc.sys.localStorage.setItem("hp_val_user",1),setTimeout(function(){t.isNewUser=!1},7e4),cc.game.restart())},e.prototype.setFrameRate=function(t){tt.setPreferredFramesPerSecond(t)},e.prototype.openAwemeUserProfile=function(t){if(this.appName===a[0]){var e=Date.now(),n=this;tt.offShow(o),tt.onShow(o),tt.openAwemeUserProfile()}else this.showToast("\u8bf7\u5728\u6296\u97f3\u4e2d\u5173\u6ce8");function o(){tt.offShow(o),Date.now()-e>=3e3?t&&t():n.showToast("\u5173\u6ce8\u5931\u8d25","fail")}},e.prototype.isPlatform=function(){return!!window.tt},e.prototype.isRecordVideo=function(){return this.isCreating},e.prototype.showToast=function(t,e,n){void 0===e&&(e="none"),void 0===n&&(n=2e3),tt.showToast({title:t,duration:n,icon:e})},e.prototype.startRecordVideo=function(t){void 0===t&&(t=90),this.recorder&&this.recorder.start({duration:t,isMarkOpen:!1})},e.prototype.stopRecordVideo=function(){this.recorder&&this.recorder.stop()},e.prototype.loadRecordVideo=function(t){var e=this;this.recorder=tt.getGameRecorderManager();t.screenWidth,t.screenHeight;var n=tt.getGameRecorderManager().getMark();n.markWidth,n.markHeight,this.recorder.onStart(function(){console.log("\u5f55\u5c4f\u5f00\u59cb"),e.videoPath=void 0,e.isCreating=!0}),this.recorder.onStop(function(t){e.videoPath=t.videoPath,e.isCreating=!1,console.log("\u5f55\u5c4f\u7ed3\u675f",t)}),this.recorder.onPause(function(t){console.log(t)}),this.recorder.onResume(function(t){console.log(t)}),this.recorder.onError(function(t){console.log(t)})},e.prototype.loadVideoAd=function(){var t=this;this.videoAd=tt.createRewardedVideoAd({adUnitId:"op47m1ptk230nrt8sq",multiton:!0,multitonRewardedMsg:"\u89c2\u770b\u4e0b\u4e00\u4e2a\u53ef\u9886\u53d6\u66f4\u591a\u5956\u52b1"}),this.videoAd.onClose(function(e){tt.canIUse("createRewardedVideoAd.object.multiton")?(console.log("-----\u89c2\u770b\u6fc0\u52b1\u89c6\u9891\u6570\u91cf-----",e.count),e.count>0&&(e.isEnded?t.callback&&t.callback():(t.showToast("\u9700\u8981\u5b8c\u6574\u64ad\u653e\u89c6\u9891\u624d\u80fd\u9886\u53d6\u5956\u52b1\u54df\uff01","none"),t.failCallBack&&t.failCallBack()),t.callback=null,t.failCallBack=null,t.videoAd.load().then(function(){console.log("reloaded next video")}).catch(function(){console.error("reload next video fail"),t.showToast("\u89c6\u9891\u663e\u793a\u5931\u8d25, \u7a0d\u540e\u91cd\u8bd5","fail")}))):(console.log("\u662f\u5426\u8fbe\u5230\u9886\u53d6\u6fc0\u52b1\u89c6\u9891\u72b6\u6001",e.isEnded),e.isEnded?t.callback&&t.callback():(t.showToast("\u9700\u8981\u5b8c\u6574\u64ad\u653e\u89c6\u9891\u624d\u80fd\u9886\u53d6\u5956\u52b1\u54df\uff01","none"),t.failCallBack&&t.failCallBack()),t.callback=null,t.failCallBack=null,t.videoAd.load().then(function(){console.log("reloaded next video")}).catch(function(){console.error("reload next video fail"),t.showToast("\u89c6\u9891\u663e\u793a\u5931\u8d25, \u7a0d\u540e\u91cd\u8bd5","fail")}))}),this.videoAd.load().then(function(){console.log("reloaded next video")}).catch(function(){console.error("reload next video fail")}),this.videoAd.onError(function(t){console.log("onError"+t)})},e.prototype.showVideoAd=function(t,e,n){var o=this;void 0===e&&(e=!0),this.enabled?this.isNewUser?this.showToast("\u5e7f\u544a\u83b7\u53d6\u5931\u8d25,\u8bf7\u7a0d\u540e\u518d\u8bd5","none"):(this.callback=t,n&&(this.failCallBack=n),this.videoAd.show().then(function(){console.log("video success")}).catch(function(){console.error("video fail"),o.reLoadVideo()})):this.showToast("\u5f53\u524d\u7248\u672c\u65e0\u6cd5\u663e\u793a\u89c6\u9891","none")},e.prototype.reLoadVideo=function(){var t=this;this.videoAd.load().then(function(){t.videoAd.show(),console.log("video success")}).catch(function(){t.showToast("\u89c6\u9891\u663e\u793a\u5931\u8d25, \u7a0d\u540e\u91cd\u8bd5","fail"),console.error("video fail")})},e.prototype.loadBannerAd=function(){},e.prototype.showBannerAd=function(){},e.prototype.loadInterstitialAd=function(){},e.prototype.showInterstitialAd=function(){},e.prototype.showShareMenu=function(){tt.showShareMenu({templateId:"111vhgf9kn1cded7do",title:"\u5927\u9c7c\u5403\u5c0f\u9c7c\uff0c\u624b\u6b8b\u515a\u6562\u6311\u6218\u4e48",desc:"\u6211\u7684\u9c7c\u5df2\u7ecf\u5403\u5230108\u7c73\u957f\u4e86\uff0c\u4f60\u6765\u8bd5\u8bd5\u4f60\u53ef\u4ee5\u628a\u9c7c\u5403\u591a\u957f\uff1f",imageUrl:"https://sf1-ttcdn-tos.pstatp.com/img/developer/app/tt9757e1ea086c5e69/si47666ed~noop.image",success:function(){console.log("\u5df2\u6210\u529f\u663e\u793a\u8f6c\u53d1\u6309\u94ae")},fail:function(t){console.log("showShareMenu \u8c03\u7528\u5931\u8d25",t.errMsg)},complete:function(){console.log("showShareMenu \u8c03\u7528\u5b8c\u6210")}})},e.prototype.onShareAppMessage=function(t,e){void 0===e&&(e=!0);var n=this;tt.shareAppMessage({templateId:"111vhgf9kn1cded7do",title:"\u5927\u9c7c\u5403\u5c0f\u9c7c\uff0c\u624b\u6b8b\u515a\u6562\u6311\u6218\u4e48",desc:"\u6211\u7684\u9c7c\u5df2\u7ecf\u5403\u5230108\u7c73\u957f\u4e86\uff0c\u4f60\u6765\u8bd5\u8bd5\u4f60\u53ef\u4ee5\u628a\u9c7c\u5403\u591a\u957f\uff1f",imageUrl:"https://sf1-ttcdn-tos.pstatp.com/img/developer/app/tt9757e1ea086c5e69/si47666ed~noop.image",query:"",success:function(){console.log("\u5206\u4eab\u89c6\u9891\u6210\u529f"),e&&t&&t()},fail:function(){e&&n.showToast("\u9700\u8981\u5206\u4eab\u6e38\u620f\u7ed9\u597d\u53cb\u624d\u80fd\u83b7\u5f97\u5956\u52b1\u54df\uff01")}})},e.prototype.onShareAppVideo=function(t,e){void 0===e&&(e=!0);var n=this.videoPath;if(n){var o=this;tt.shareAppMessage({channel:"video",title:"\u5927\u9c7c\u5403\u5c0f\u9c7c\uff0c\u624b\u6b8b\u515a\u6562\u6311\u6218\u4e48",desc:"\u6211\u7684\u9c7c\u5df2\u7ecf\u5403\u5230108\u7c73\u957f\u4e86\uff0c\u4f60\u6765\u8bd5\u8bd5\u4f60\u53ef\u4ee5\u628a\u9c7c\u5403\u591a\u957f\uff1f",imageUrl:"https://sf1-ttcdn-tos.pstatp.com/img/developer/app/tt9757e1ea086c5e69/si47666ed~noop.image",templateId:"111vhgf9kn1cded7do",query:"",extra:{videoPath:n,videoTopics:["\u5c0f\u6e38\u620f","\u6296\u97f3"],hashtag_list:["\u5c0f\u6e38\u620f","\u6296\u97f3"],video_title:"\u6211\u7684\u9c7c\u5df2\u7ecf\u5403\u5230108\u7c73\u957f\u4e86\uff0c\u4f60\u6765\u8bd5\u8bd5\u4f60\u53ef\u4ee5\u628a\u9c7c\u5403\u591a\u957f\uff1f"},success:function(){console.log("\u5206\u4eab\u89c6\u9891\u6210\u529f"),r.cUI.showTips("\u5206\u4eab\u89c6\u9891\u6210\u529f"),t&&t()},fail:function(){e&&o.showToast("\u9700\u8981\u5206\u4eab\u5f55\u5c4f\u624d\u80fd\u9886\u53d6\u5956\u52b1\u6709\uff01")}})}else this.onShareAppMessage(t,e)},e.prototype.clearVideo=function(){this.videoPath="",this.isCreating=!1},e.prototype.reportAnalytics=function(t,e){void 0===e&&(e={}),tt.reportAnalytics(t,e)},e}(c.default);n.default=s,cc._RF.pop()},{"../../../config/Config":"Config","../../base/SingleBase":"SingleBase"}],UITools:[function(t,e,n){"use strict";cc._RF.push(e,"6c6a06GxR9LaYV1jtdZjLpr","UITools"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(){}return t.alignFullScreen=function(t,e){var n=t.findComponent(cc.Widget);n.alignMode=e,n.left=0,n.right=0,n.bottom=0,n.top=0,n.isAlignTop=!0,n.isAlignBottom=!0,n.isAlignLeft=!0,n.isAlignRight=!0},t.alignCenter=function(t,e){var n=t.findComponent(cc.Widget);n.alignMode=e,n.isAlignHorizontalCenter=!0,n.isAlignVerticalCenter=!0,n.horizontalCenter=0,n.verticalCenter=0},t.alignLeft=function(t,e){var n=t.findComponent(cc.Widget);n.alignMode=e,n.left=0,n.isAlignLeft=!0},t.alignRight=function(t,e){var n=t.findComponent(cc.Widget);n.alignMode=e,n.right=0,n.isAlignRight=!0},t.alignTop=function(t,e){var n=t.findComponent(cc.Widget);n.alignMode=e,n.top=0,n.isAlignTop=!0},t.alignBottom=function(t,e){var n=t.findComponent(cc.Widget);n.alignMode=e,n.bottom=0,n.isAlignBottom=!0},t.easingScale=function(t){var e=t.scale;t.scale=0,t.stopAllActions(),cc.tween(t).to(.1,{scale:e+.15}).to(.2,{scale:e}).start()},t.easingFall=function(t){var e=t.y;t.y=cc.winSize.height,t.x=0,t.stopAllActions(),cc.tween(t).by(.3,{position:cc.v2(0,-cc.winSize.height-20+e)},{easing:cc.Tween.expoOut}).by(.2,{position:cc.v2(0,20)}).start()},t.easingFade=function(t){t.opacity=0,t.stopAllActions(),cc.tween(t).to(.1,{opacity:150},{easing:cc.Tween.sineIn}).to(.1,{opacity:255},{easing:cc.Tween.sineOut}).start()},t.removeAllNode=function(t){for(;t[0];)t[0].destroy(),t.shift()},t.easingRise=function(t){var e=t.y;t.y=-cc.winSize.height,t.x=0,t.stopAllActions(),cc.tween(t).by(.3,{position:cc.v2(0,cc.winSize.height+20+e)},{easing:cc.Tween.expoOut}).by(.2,{position:cc.v2(0,-20)}).start()},t.runBreathingAction=function(t){t.stopAllActions();var e=t.scale;cc.tween(t).to(.5,{scale:e+.1}).to(.5,{scale:e}).union().repeatForever().start()},t.runBounceAction=function(t){t.stopAllActions();var e=t.scaleX,n=t.scaleY;cc.tween(t).to(.15,{scaleX:.5*e,scaleY:1.2*n},{easing:"bounceInOut"}).to(.15,{scaleX:1.3*e,scaleY:.8*n},{easing:"bounceInOut"}).to(.2,{scaleX:.9*e,scaleY:n},{easing:"smooth"}).delay(.7).union().repeatForever().start()},t.shakeScreen=function(t){t.is_tween||(t.is_tween=!0,cc.tween(t).by(.1,{y:5,x:5}).by(.1,{y:-5,x:-5}).delay(1).call(function(){t.is_tween=!1}).union().start())},t.hurtColor=function(t){cc.tween(t).to(.5,{color:cc.color(255,0,0)}).to(.5,{color:cc.color(255,255,255)}).start()},t}();n.default=o,cc._RF.pop()},{}],UI:[function(t,e,n){"use strict";cc._RF.push(e,"499f991TGBGnYyP9DmkKhza","UI");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function c(t){try{s(o.next(t))}catch(e){r(e)}}function a(t){try{s(o.throw(t))}catch(e){r(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(c,a)}s((o=o.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var n,o,i,r,c={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return s([t,e])}}function s(r){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return c.label++,{value:r[1],done:!1};case 5:c.label++,o=r[1],r=[0];continue;case 7:r=c.ops.pop(),c.trys.pop();continue;default:if(!(i=(i=c.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){c=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){c.label=r[1];break}if(6===r[0]&&c.label<i[1]){c.label=i[1],i=r;break}if(i&&c.label<i[2]){c.label=i[2],c.ops.push(r);break}i[2]&&c.ops.pop(),c.trys.pop();continue}r=e.call(t,c)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}},a=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],o=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../config/Config"),l=t("../../view/component/Tip"),u=t("../base/SingleBase"),p=t("./Pool"),f=t("./ResManager"),h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.scene=null,e.layer_list=[],e.net_loading=null,e.is_loading=!1,e.prev_scene_url="",e}return i(e,t),e.prototype.showNetLoading=function(t,e){var n=this;void 0===t&&(t=""),void 0===e&&(e=!1),this.net_loading?(this.net_loading.show(),this.net_loading.getComponent("NetLoading").init(t,e)):f.default.instance().getNode(s.$.Prefab.loading).then(function(o){n.net_loading=o,n.net_loading.parent=n.getGameLoadingRoot(),n.net_loading.getComponent("NetLoading").init(t,e)})},e.prototype.hideNetLoading=function(){this.net_loading&&this.net_loading.hide()},e.prototype.showLayer=function(t,e,n){return void 0===e&&(e=!0),r(this,void 0,Promise,function(){var o,i,r,s,l,u=this;return c(this,function(c){switch(c.label){case 0:try{for(o=a(this.layer_list),i=o.next();!i.done;i=o.next())if(i.value.url===t)return console.warn("\u5df2\u5b58\u5728"),[2]}catch(p){s={error:p}}finally{try{i&&!i.done&&(l=o.return)&&l.call(o)}finally{if(s)throw s.error}}return e&&this.is_loading?(console.warn("\u5df2\u6709\u6b63\u5728\u52a0\u8f7d..."),[2]):(this.is_loading=!0,[4,f.default.instance().getNode(t)]);case 1:return(r=c.sent()).parent=n||this.getGameLayerRoot(),this.layer_list.push(r),setTimeout(function(){u.is_loading=!1},100),[2,r]}})})},e.prototype.hideLayer=function(t){for(var e=0;e<this.layer_list.length;e++){var n=this.layer_list[e];if(n.url===t||n===t){n.destroy(),this.layer_list.splice(e,1);break}}},e.prototype.removeAllLayer=function(){this.layer_list.forEach(function(t){return t.destroy()}),this.layer_list=[]},e.prototype.showScene=function(t){return r(this,void 0,Promise,function(){var e,n=this;return c(this,function(o){switch(o.label){case 0:return this.scene&&this.scene.url_name===t?(console.warn("\u5df2\u5b58\u5728"),[2]):this.is_loading?(console.warn("\u5df2\u6709\u6b63\u5728\u52a0\u8f7d..."),[2]):(this.is_loading=!0,[4,f.default.instance().getNode(t)]);case 1:return(e=o.sent()).parent=this.getGameSceneRoot(),this.scene&&(this.prev_scene_url=this.scene.url_name,this.scene.destroy(),this.scene=null),this.scene=e,setTimeout(function(){n.is_loading=!1},100),[2,e]}})})},e.prototype.removeScene=function(t){this.scene&&this.scene.url_name===t&&(this.scene.destroy(),this.scene=null)},e.prototype.showTips=function(t,e,n){var o=this;void 0===t&&(t=""),void 0===e&&(e=.5),void 0===n&&(n=cc.color(255,255,255)),t&&""!=t&&p.default.instance().get(s.$.Prefab.tip).then(function(i){i.getComponent(l.default).show(o.getGameTipRoot(),t,e,n)})},e.prototype.hideAllTips=function(){this.getGameTipRoot().removeAllChildren()},e.prototype.getCanvas=function(){return cc.find("Canvas")},e.prototype.getCurrentScene=function(){return this.getGameSceneRoot().children[0]},e.prototype.getGameSceneRoot=function(){return cc.find("Canvas/game_scene")},e.prototype.getGameLayerRoot=function(){return cc.find("Canvas/game_layer")},e.prototype.getGameTipRoot=function(){return cc.find("Canvas/game_tip")},e.prototype.getGameLoadingRoot=function(){return cc.find("Canvas/game_loading")},e.prototype.getPrevSceneUrl=function(){return this.prev_scene_url},e.prototype.hasLayerItem=function(){return this.layer_list.length>0},e}(u.default);n.default=h,cc._RF.pop()},{"../../config/Config":"Config","../../view/component/Tip":"Tip","../base/SingleBase":"SingleBase","./Pool":"Pool","./ResManager":"ResManager"}],Utils:[function(t,e,n){"use strict";cc._RF.push(e,"f6011eAZjBE87YxjlyTuaC7","Utils");var o=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,i,r=n.call(t),c=[];try{for(;(void 0===e||e-- >0)&&!(o=r.next()).done;)c.push(o.value)}catch(a){i={error:a}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(i)throw i.error}}return c};Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(){}return t.parseUrl=function(){var t,e,n={};if(null==window.location)return n;for(var o=window.location.href,i=o.indexOf("?"),r=(o=o.substr(i+1)).split("&"),c=0;c<r.length;c++)(i=r[c].indexOf("="))>0&&(t=r[c].substring(0,i),e=r[c].substr(i+1),n[t]=e);return n},t.strToBuffer=function(t){for(var e="",n=0;n<t.length;n++)e+=","+o(t.charCodeAt(n));return e+=",00",new Uint8Array(e.match(/[\da-f]{2}/gi).map(function(t){return parseInt(t,16)})).buffer;function o(t){var e=t.toString(2);if(t<128)return t.toString(16);if(t<2048){e=("00000000000000000"+e).slice(-11);var n=parseInt("110"+e.substring(0,5),2),o=parseInt("10"+e.substring(5),2);return n.toString(16)+","+o.toString(16)}e=("00000000000000000"+e).slice(-16),n=parseInt("1110"+e.substring(0,4),2),o=parseInt("10"+e.substring(4,10),2);var i=parseInt("10"+e.substring(10),2);return n.toString(16)+","+o.toString(16)+","+i.toString(16)}},t.code2utf8=function(t){var e=t.toString(2);if(t<128)return t.toString(16);if(t<2048){e=("00000000000000000"+e).slice(-11);var n=parseInt("110"+e.substring(0,5),2),o=parseInt("10"+e.substring(5),2);return n.toString(16)+","+o.toString(16)}e=("00000000000000000"+e).slice(-16),n=parseInt("1110"+e.substring(0,4),2),o=parseInt("10"+e.substring(4,10),2);var i=parseInt("10"+e.substring(10),2);return n.toString(16)+","+o.toString(16)+","+i.toString(16)},t.numberFormat=function(t,e){var n=t.toString().length-e;return n<0?[].init(-n,0).join("")+t:t.toString()},t.removeFrontNum0=function(t){return t.replace(/\b(0+)/gi,"")},t.getRepeatCount=function(t,e){var n={};t.forEach(function(t){n[t]?n[t]++:n[t]=1});var o=[];for(var i in n)n[i]>=e&&o.push(+i);return o},t.regUserName=function(t,e){void 0===e&&(e=7);for(var n=/^[\u4e00-\u9fa5]$|^[\dA-Za-z]$/,o=t.split(""),i=3*e,r=0;r<o.length;r++){if(!n.test(o[r]))return!1;if((i-=3===this.getUtf8Length(o[r])?3:1.5)<0)return!1}return!0},t.getShuffle=function(t){for(var e,n=0;n<t.length;n++){var i=Math.floor(Math.random()*t.length);e=o([t[n],t[i]],2),t[i]=e[0],t[n]=e[1]}return t},t.getNumToArray=function(t){return t[Math.floor(Math.random()*t.length)]},t.getAngle=function(t,e){return Math.atan2(e.y-t.y,e.x-t.x)*(180/Math.PI)},t.getNumMinToMax=function(t,e){return Math.floor(Math.random()*(e-t+1))+t},t.getRandomDir=function(){return Math.random()>.5?1:-1},t.getProbability=function(t,e){void 0===e&&(e=2);for(var n=+Math.random().toFixed(e),o=0,i=0;i<t.length;i++)if((o+=t[i])>=n)return i},t.getDate=function(t){var e=new Date(t),n=e.getFullYear(),o=e.getMonth()+1,i=e.getDate(),r=e.getHours(),c=e.getMinutes();return e.getSeconds(),n+"/"+this.numberFormat(o,2)+"/"+this.numberFormat(i,2)+" "+this.numberFormat(r,2)+":"+this.numberFormat(c,2)},t.getShowDate=function(e){var n=new Date(e),o=t.numberFormat(n.getHours(),2),i=t.numberFormat(n.getMinutes(),2),r=t.numberFormat(n.getMonth()+1,2),c=t.numberFormat(n.getDate(),2);return Date.now()-e<864e5?"\u4eca\u5929 "+o+":"+i:Date.now()-e<1728e5?"\u6628\u5929 "+o+":"+i:Date.now()-e<2592e5?"\u4e09\u5929\u524d "+o+":"+i:r+"-"+c+" "+o+":"+i},t.getTimeRange=function(e,n){var o=new Date(n-e);return t.numberFormat(o.getMinutes(),2)+":"+t.numberFormat(o.getSeconds(),2)},t.formatMinSeconds=function(e){var n=Math.floor(e/60),o=Math.floor(e%60);return t.numberFormat(n,2)+":"+t.numberFormat(o,2)},t.getNum=function(t){return+t.replace(/[^\d]/gi,"")},t.getArrToNum=function(t,e){var n,o,i=[],r=Math.sign(t);for(t=Math.abs(t);e>1;)n=t/e*2,o=(o=Math.random()*n)<1?1:o,o=Math.round(o),i.push(o*r),e--,t-=o;return i.push(Math.round(t)*r),i},t.getRandomNumToStr=function(e){var n=e.indexOf("["),o=e.indexOf("]");if(n<0||o<0)return{n:0,str:e};var i=e.slice(n+1,o),r=i.split("-").map(function(t){return+t}),c=t.getNumMinToMax(r[0],r[1]);return{n:c,str:e.replace(i,c.toString())}},t.randomNum=function(t,e){switch(arguments.length){case 1:return parseInt((Math.random()*t).toString(),10);case 2:return parseInt((Math.random()*(e-t+1)+t).toString(),10);default:return 0}},t.getUtf8Length=function(t){for(var e=0,n=0;n<t.length;n++){var o=t.charCodeAt(n);o<127?e++:128<=o&&o<=2047?e+=2:2048<=o&&o<=65535&&(e+=3)}return e},t}();n.default=i,cc._RF.pop()},{}],ViewBase:[function(t,e,n){"use strict";cc._RF.push(e,"392f2NnVKpMmqRDZqreFKQK","ViewBase");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,c=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,n,c):i(e,n))||c);return r>3&&c&&Object.defineProperty(e,n,c),c},c=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function c(t){try{s(o.next(t))}catch(e){r(e)}}function a(t){try{s(o.throw(t))}catch(e){r(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(c,a)}s((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,i,r,c={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return s([t,e])}}function s(r){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return c.label++,{value:r[1],done:!1};case 5:c.label++,o=r[1],r=[0];continue;case 7:r=c.ops.pop(),c.trys.pop();continue;default:if(!(i=(i=c.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){c=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){c.label=r[1];break}if(6===r[0]&&c.label<i[1]){c.label=i[1],i=r;break}if(i&&c.label<i[2]){c.label=i[2],c.ops.push(r);break}i[2]&&c.ops.pop(),c.trys.pop();continue}r=e.call(t,c)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var s,l,u,p=t("../../common/utils/UITools"),f=t("../../config/Config");(function(t){t[t.on=0]="on",t[t.off=1]="off"})(s||(s={})),function(t){t[t.none=0]="none",t[t.center=1]="center",t[t.full=2]="full",t[t.left=3]="left",t[t.right=4]="right",t[t.top=5]="top",t[t.bottom=6]="bottom"}(l||(l={})),function(t){t[t.none=0]="none",t[t.easingScale=1]="easingScale",t[t.easingFade=2]="easingFade",t[t.easingFall=3]="easingFall",t[t.easingRise=4]="easingRise",t[t.random=5]="random"}(u||(u={}));var h=cc._decorator,d=h.ccclass,y=h.property,g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.blockInputEvent=s.off,e.alignMode=l.none,e.showMode=u.none,e._events=[],e}return i(e,t),e.prototype.onEnable=function(){this.initEvents()},e.prototype.onDisable=function(){this.uninitEvents()},e.prototype.onDestroy=function(){},e.prototype.initEvents=function(){},e.prototype.onConnectSuccess=function(){},e.prototype.close=function(){},e.prototype.uninitEvents=function(){var t=this;this._events.forEach(function(e){t.unregisterEvent(e.event,e.callfunc,e.target)}),this._events=[]},e.prototype.registerEvent=function(t,e,n){(t=new t).name=t.getName(),this._events.push({event:t,callfunc:e,target:n}),f.Event.registerEvent(t,e,n)},e.prototype.unregisterEvent=function(t,e,n){f.Event.unregisterEvent(t,e,n)},e.prototype.emitEvent=function(t){f.Event.emitEvent(t)},e.prototype.loadConfig=function(){this.addBlockInput(),this.addAlignMode(),this.addShowMode()},e.prototype.addBlockInput=function(){this.blockInputEvent===s.on&&this.node.findComponent(cc.BlockInputEvents)},e.prototype.addAlignMode=function(){var t=cc.Widget.AlignMode.ON_WINDOW_RESIZE;switch(this.alignMode){case l.none:break;case l.center:p.default.alignCenter(this.node,t);break;case l.full:p.default.alignFullScreen(this.node,t);break;case l.left:p.default.alignLeft(this.node,t);break;case l.right:p.default.alignRight(this.node,t);break;case l.top:p.default.alignTop(this.node,t);break;case l.bottom:p.default.alignBottom(this.node,t)}},e.prototype.addShowMode=function(){var t=this.node.$("bg")||this.node.$("_bg");if(t)switch(this.showMode){case u.none:case u.random:break;case u.easingFade:p.default.easingFade(t);break;case u.easingFall:p.default.easingFall(t);break;case u.easingRise:p.default.easingRise(t);break;case u.easingScale:p.default.easingScale(t)}},e.prototype.timer=function(t){return c(this,void 0,Promise,function(){var e=this;return a(this,function(){return[2,new Promise(function(n){e.scheduleOnce(function(){n(!0)},t)})]})})},r([y({type:cc.Enum(s)})],e.prototype,"blockInputEvent",void 0),r([y({type:cc.Enum(l)})],e.prototype,"alignMode",void 0),r([y({type:cc.Enum(u)})],e.prototype,"showMode",void 0),r([d],e)}(cc.Component);n.default=g,cc._RF.pop()},{"../../common/utils/UITools":"UITools","../../config/Config":"Config"}],ViewSet:[function(t,e,n){"use strict";cc._RF.push(e,"46875iEMQtJx67TH80EDx9I","ViewSet");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.GameResultView=n.GameStopView=n.SelectLevelView=n.InfiniteStrengthView=n.AddStrengthView=n.SetUpView=n.TipView=n.NetLoadingView=n.MaskView=n.LoadingView=n.ConfirmView=n.GameSceneView=n.MainSceneView=void 0;var r=t("./ViewBase"),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.__preload=function(){this.loadConfig(),this._version=this.node.$("_version").$(cc.Label),this._strength_num=this.node.$("_strength_num").$(cc.Label),this._strength_time=this.node.$("_strength_time").$(cc.Label),this._btn_start_game=this.node.$("_btn_start_game"),this._btn_start_game.click(this.onBtnStartGame.bind(this)),this._btn_setup=this.node.$("_btn_setup"),this._btn_setup.click(this.onBtnSetUp.bind(this)),this._btn_add_strength=this.node.$("_btn_add_strength"),this._btn_add_strength.click(this.onBtnAddStrength.bind(this)),this._btn_infinite_strength=this.node.$("_btn_infinite_strength"),this._btn_infinite_strength.click(this.onBtnInfiniteStrength.bind(this))},e}(r.default);n.MainSceneView=c;var a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.__preload=function(){this.loadConfig(),this._ui=this.node.$("_ui"),this._level=this.node.$("_level"),this._gameCamera=this.node.$("_gameCamera").$(cc.Camera),this._playerParent=this.node.$("_playerParent"),this._btn_back=this._ui.$("_btn_back"),this._btn_back.click(this.onBtnBack.bind(this)),this._btn_left=this._ui.$("_btn_left"),this._btn_right=this._ui.$("_btn_right"),this._btn_jump=this._ui.$("_btn_jump"),this._btn_jump.click(this.onBtnJump.bind(this)),this._btn_attack=this._ui.$("_btn_attack"),this._btn_attack.click(this.onBtnAttack.bind(this))},e}(r.default);n.GameSceneView=a;var s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.__preload=function(){this.loadConfig(),this._content=this.node.$("bg/_content"),this._title=this.node.$("bg/_title"),this._btn_cancel=this.node.$("layout/_btn_cancel"),this._btn_cancel.click(this.onBtnCancel.bind(this)),this._btn_confirm=this.node.$("layout/_btn_confirm"),this._btn_confirm.click(this.onBtnConfirm.bind(this))},e}(r.default);n.ConfirmView=s;var l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.__preload=function(){this.loadConfig(),this._bar=this.node.$("_bar").$(cc.Sprite),this._hero=this.node.$("_hero"),this._progressNum=this.node.$("_progressNum").$(cc.Label)},e}(r.default);n.LoadingView=l;var u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.__preload=function(){this.loadConfig()},e}(r.default);n.MaskView=u;var p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.__preload=function(){this.loadConfig(),this._tips_img=this.node.$("_tips_img"),this._tips_title=this.node.$("_tips_title")},e}(r.default);n.NetLoadingView=p;var f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.__preload=function(){this.loadConfig(),this._content=this.node.$("bg/_content").$(cc.Label)},e}(r.default);n.TipView=f;var h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.__preload=function(){this.loadConfig(),this._btn_close=this.node.$("bg/_btn_close"),this._btn_close.click(this.onBtnClose.bind(this)),this._btn_music=this.node.$("bg/_btn_music"),this._btn_music.click(this.onBtnMusic.bind(this)),this._btn_effect=this.node.$("bg/_btn_effect"),this._btn_effect.click(this.onBtnEffect.bind(this)),this._music_open=this._btn_music.$("_music_open"),this._music_close=this._btn_music.$("_music_close"),this._effect_open=this._btn_effect.$("_effect_open"),this._effect_close=this._btn_effect.$("_effect_close")},e}(r.default);n.SetUpView=h;var d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.__preload=function(){this.loadConfig(),this._getStrengthNum=this.node.$("bg/_getStrengthNum").$(cc.Label),this._btn_close=this.node.$("bg/_btn_close"),this._btn_close.click(this.onBtnClose.bind(this)),this._btn_close2=this.node.$("bg/_btn_close2"),this._btn_close2.click(this.onBtnClose.bind(this)),this._btn_video=this.node.$("bg/_btn_video"),this._btn_video.click(this.onBtnVideo.bind(this))},e}(r.default);n.AddStrengthView=d;var y=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.__preload=function(){this.loadConfig(),this._getStrengthNum=this.node.$("bg/_getStrengthNum").$(cc.Label),this._videBtnLabel=this.node.$("bg/_btn_video/_videBtnLabel").$(cc.Label),this._btn_close=this.node.$("bg/_btn_close"),this._btn_close.click(this.onBtnClose.bind(this)),this._btn_close2=this.node.$("bg/_btn_close2"),this._btn_close2.click(this.onBtnClose.bind(this)),this._btn_video=this.node.$("bg/_btn_video"),this._btn_video.click(this.onBtnVideo.bind(this))},e}(r.default);n.InfiniteStrengthView=y;var g=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.__preload=function(){this.loadConfig(),this._pageView=this.node.$("bg/_pageView").$(cc.PageView),this._content=this._pageView.node.$("view/_content"),this._btn_close=this.node.$("bg/_btn_close"),this._btn_close.click(this.onBtnClose.bind(this)),this._btn_nextPage=this.node.$("bg/_btn_nextPage"),this._btn_nextPage.click(this.onBtnNextPage.bind(this)),this._btn_lastPage=this.node.$("bg/_btn_lastPage"),this._btn_lastPage.click(this.onBtnLastPage.bind(this))},e}(r.default);n.SelectLevelView=g;var m=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.__preload=function(){this.loadConfig(),this._btn_back=this.node.$("bg/_btn_back"),this._btn_back.click(this.onBtnBack.bind(this)),this._btn_continue=this.node.$("bg/_btn_continue"),this._btn_continue.click(this.onBtnContinue.bind(this))},e}(r.default);n.GameStopView=m;var _=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.__preload=function(){this.loadConfig(),this._victory=this.node.$("bg/_victory"),this._defeat=this.node.$("bg/_defeat"),this._btn_back=this.node.$("bg/_btn_back"),this._btn_back.click(this.onBtnBack.bind(this)),this._btn_share=this.node.$("bg/_btn_share"),this._btn_share.click(this.onBtnShare.bind(this)),this._btn_nextLevel=this.node.$("bg/_btn_nextLevel"),this._btn_nextLevel.click(this.onBtnNextLevel.bind(this)),this._btn_restart=this.node.$("bg/_btn_restart"),this._btn_restart.click(this.onBtnRestart.bind(this))},e}(r.default);n.GameResultView=_,cc._RF.pop()},{"./ViewBase":"ViewBase"}],Wall:[function(t,e,n){"use strict";cc._RF.push(e,"ed483h2pKlBaKNv4v8Nl18n","Wall");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,c=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,n,c):i(e,n))||c);return r>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../config/Config"),a=t("../view/scene/GameScene"),s=cc._decorator,l=s.ccclass,u=(s.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.index=0,e}return i(e,t),e.prototype.init=function(t,e){this.type=t,this.index=e},e.prototype.boom=function(){a.gameScene.colliderList.delete(this.index),this.node.destroy(),c.cSound.playEffect(c.$.Sound.break_brick)},r([l],e)}(cc.Component));n.default=u,cc._RF.pop()},{"../config/Config":"Config","../view/scene/GameScene":"GameScene"}],player:[function(t,e,n){"use strict";cc._RF.push(e,"cedf3Rk9cFDvYyAaMXVwQXf","player");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,c=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,n,c):i(e,n))||c);return r>3&&c&&Object.defineProperty(e,n,c),c},c=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],o=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(n,"__esModule",{value:!0}),n.player=void 0;var a=t("../common/module/ColliderManager"),s=t("../config/Config"),l=t("../config/Enum"),u=t("../view/scene/GameScene"),p=t("./Wall"),f=cc._decorator,h=f.ccclass,d=(f.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._spine=null,e.isLeftMove=!1,e.isRightMove=!1,e.isIdle=!0,e.isJump=!1,e.isDrop=!1,e.isDeath=!1,e.upTime=0,e}return i(e,t),e.prototype.onLoad=function(){n.player=this;var t=cc.winSize;this.maxX=t.width/2-this.node.width/2,this.maxY=t.height/2-this.node.height/2,this.isDeath=!1,this._spine=this.node.getChildByName("spine").$(sp.Skeleton),this.updateState(l.playerState.idle)},e.prototype.start=function(){cc.systemEvent.on(cc.SystemEvent.EventType.KEY_UP,this.onKeyUp,this),cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this)},e.prototype.onKeyUp=function(t){switch(t.keyCode){case 37:case 65:this.isLeftMove=!1;break;case 39:case 68:this.isRightMove=!1}},e.prototype.onKeyDown=function(t){if(!this.isDeath)switch(t.keyCode){case 37:case 65:this.isLeftMove=!0;break;case 39:case 68:this.isRightMove=!0;break;case 38:case 87:this.updateState(l.playerState.jump);break;case 74:u.gameScene.shootBullet()}},e.prototype.updateState=function(t){t==l.playerState.jump?this.isIdle&&(this.isJump=!0,this.isDrop=!1,this.isIdle=!1,this.upTime=s.GameConfig.playerUpTime,s.cSound.playEffect(s.$.Sound.jump)):t==l.playerState.drop?this.isDrop||(this.isDrop=!0,this.isJump=!1,this.isIdle=!1):t==l.playerState.idle?this.isIdle||(this.isIdle=!0,this.isJump=!1,this.isDrop=!1):t==l.playerState.caidao&&(n.player.isJump=!0,n.player.isDrop=!1,n.player.isIdle=!1,n.player.upTime=5)},e.prototype.horizontalMove=function(){(this.isLeftMove||this.isRightMove)&&(this.isLeftMove?(this.node.scaleX=-1,a.default.instance().leftCollider()||u.gameScene.currCamerPos-this.node.x+this.node.width/2>cc.winSize.width/2||(this.node.x-=s.GameConfig.playerXSpeed)):this.isRightMove&&(this.node.scaleX=1,a.default.instance().rightCollider()||(this.node.x+=s.GameConfig.playerXSpeed,s.Event.emitEvent(s.$.EventKey.updateCameraPos))))},e.prototype.verticalMove=function(){this.isJump?this.jump():this.isDrop&&this.drop()},e.prototype.stopJump_zhuangdao=function(){var t,e;try{for(var n=c(u.gameScene.colliderList),o=n.next();!o.done;o=n.next()){var i=o.value[1];if(!cc.isValid(i))return;if(this.node.x+this.node.width/2>i.x-i.width/2&&this.node.x-this.node.width/2<i.x+i.width/2&&this.node.y+this.node.height/2==i.y-i.height/2){this.updateState(l.playerState.drop);var r=i.$(p.default);r.type==l.WallType.wall2&&r.boom();break}}}catch(a){t={error:a}}finally{try{o&&!o.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}},e.prototype.stopJump_caidao=function(){var t,e,n=!1;try{for(var o=c(u.gameScene.colliderList),i=o.next();!i.done;i=o.next()){var r=i.value[1];if(!cc.isValid(r))return;if(this.node.x+this.node.width/2>r.x-r.width/2&&this.node.x-this.node.width/2<r.x+r.width/2&&this.node.y-this.node.height/2==r.y+r.height/2){this.updateState(l.playerState.idle),n=!0;break}}}catch(a){t={error:a}}finally{try{i&&!i.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}n||this.updateState(l.playerState.drop)},e.prototype.jump=function(){this.node.y+=s.GameConfig.playerYSpeed,this.upTime--,0==this.upTime&&this.updateState(l.playerState.drop)},e.prototype.drop=function(){this.node.y-=s.GameConfig.playerYSpeed},e.prototype.death=function(){this.isDeath=!0,u.gameScene.gameOver(l.ResultType.defeat),s.cSound.stopMusic(),s.cSound.playEffect(s.$.Sound.death),setTimeout(function(){s.cSound.playEffect(s.$.Sound.death2)},500),this._spine.setAnimation(0,"death",!1)},e.prototype.update=function(){this.isDeath||u.gameScene._gameOver||(this.horizontalMove(),this.verticalMove(),this.isJump&&a.default.instance().stopJump_zhuangdao(),this.isJump||(a.default.instance().stopJump_caidao(),this.node.y<-500&&this.death()),a.default.instance().checkEnemy(),a.default.instance().checkCoin(),a.default.instance().checkEnd())},r([h],e)}(cc.Component));n.default=d,cc._RF.pop()},{"../common/module/ColliderManager":"ColliderManager","../config/Config":"Config","../config/Enum":"Enum","../view/scene/GameScene":"GameScene","./Wall":"Wall"}],windowScale:[function(t,e){"use strict";cc._RF.push(e,"214b5vk+4pGD4d3WNvTTrEv","windowScale"),cc.Class({extends:cc.Component,editor:{menu:"UI/\u81ea\u52a8\u7f29\u653e\u5927\u5c0f"},properties:{_isWidth:!0,widthScale:{get:function(){return this._isWidth},set:function(t){this._isWidth=t}},heightScale:{get:function(){return!this._isWidth},set:function(t){this._isWidth=!t}}},start:function(){if(!0===this.widthScale){if(this.node.width>cc.winSize.width){var t=cc.winSize.width/720;this.node.scale*=t}}else if(this.node.height>cc.winSize.height){var e=cc.winSize.height/1280;this.node.scale*=e}}}),cc._RF.pop()},{}]},{},["Loading","Main","SingleBase","EditorAsset","Flash","SineWave","BundleManager","ColliderManager","DataManager","EventManager","LocalStorage","PlatformApi","Pool","ResManager","Sound","UI","AndroidApi","IosApi","KwaiApi","TtApi","Md5","BhvButtonGroup","BhvFrameIndex","BhvRollNumber","windowScale","UITools","Utils","Config","Enum","Res","Bullet","Wall","EnemyBase","player","ViewBase","ViewSet","Confirm","NetLoading","Tip","AddStrength","GameResult","GameStop","InfiniteStrength","SelectLevel","SetUp","LevelItem","GameScene","MainScene"]);